(function(){"use strict";var t={7299:function(t,e,s){var i=s(6369),a=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("div",{staticClass:"login"},[e("router-link",{attrs:{to:"/login_system/log_in"}})],1),e("router-view")],1)},r=[],o={},n=o,l=s(1001),c=(0,l.Z)(n,a,r,!1,null,null,null),d=c.exports,u=(s(560),function(){var t=this,e=t._self._c;return e("div",{staticClass:"first"},[e("div",{staticClass:"second"},[e("img",{attrs:{src:s(7525),alt:""}}),t._m(0),e("div",{staticClass:"text"},[e("h3",[t._v("欢迎登录")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.mail_account,expression:"mail_account"}],staticClass:"inp inp1",attrs:{type:"text",placeholder:"请输入邮箱账号"},domProps:{value:t.mail_account},on:{input:function(e){e.target.composing||(t.mail_account=e.target.value)}}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"inp inp2",attrs:{type:"password",placeholder:"请输入密码"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),e("span",{directives:[{name:"show",rawName:"v-show",value:t.isError,expression:"isError"}],staticClass:"error"},[t._v("账号或密码有误")]),e("div",{staticClass:"forget",on:{click:function(e){return t.$router.push("/login_system/retrieve_password")}}},[t._v("忘记密码")]),e("br"),e("div",{staticClass:"login",on:{click:t.login}},[t._v("登录")]),e("br"),e("div",{staticClass:"register",on:{click:function(e){return t.$router.push("/login_system/register")}}},[t._v("还没有账号？点击注册")])])])])}),h=[function(){var t=this,e=t._self._c;return e("h3",{staticClass:"sysName"},[t._v("欢迎使用"),e("br"),t._v("ChatAAA")])}],_=s(1076),p={name:"LoginSystem",data(){return{isError:!1,mail_account:"",password:"",advertise_state:!1}},created(){document.title="登录-chataaa",this.cookie.clearCookie("remember_token"),this.cookie.clearCookie("session"),this.cookie.clearCookie("user_id")},methods:{async login(){const t=await _.Z.post("http://8.134.178.190:5000/login_system/log_in",{mail_account:this.mail_account,password:this.password});if(this.mail_account="",this.password="","400"!==t.data.code)if("400"===t.data.code)this.isError=!0;else{if("401"===t.data.code)return void this.$message.error(`您已被限制登录，${t.data.restriction_time}天后解除限制`);"200"===t.data.code&&(3===t.data.user_type_id?this.$router.push({path:"/chatInterface",query:{user_id:t.data.user_id}}):1===t.data.user_type_id?this.$router.push({path:"/setInformation",query:{user_id:t.data.user_id}}):2===t.data.user_type_id?this.$router.push({path:"/ChangeRole",query:{user_id:t.data.user_id}}):4===t.data.user_type_id&&this.$router.push({path:"/chatInterface",query:{user_id:t.data.user_id,advertise_state:t.data.advertise_state}}))}else this.$message.error("登陆失败")}}},m=p,v=(0,l.Z)(m,u,h,!1,null,"33b0b0a5",null),g=v.exports,f=function(){var t=this,e=t._self._c;return e("div",{staticClass:"first"},[e("div",{staticClass:"second"},[e("img",{attrs:{src:s(7525),alt:""}}),t._m(0),e("div",{staticClass:"text"},[e("h3",[t._v("欢迎注册")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.mail_account,expression:"mail_account"}],staticClass:"inp inp1",attrs:{type:"text",placeholder:"请输入注册邮箱"},domProps:{value:t.mail_account},on:{input:function(e){e.target.composing||(t.mail_account=e.target.value)}}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.code_input,expression:"code_input"}],staticClass:"inp inp2",attrs:{type:"text",placeholder:"请输入验证码"},domProps:{value:t.code_input},on:{input:function(e){e.target.composing||(t.code_input=e.target.value)}}}),e("button",{staticClass:"sendCode",attrs:{disabled:t.isWaiting},on:{click:function(e){return t.sendCode()}}},[t._v(t._s(t.isWaiting?`${t.remainingTime}s`:"发送验证码"))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"inp inp3",attrs:{type:"password",placeholder:"请输入密码10-12位，必须包含字母和数字，不能有空格"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.password2,expression:"password2"}],staticClass:"inp inp4",attrs:{type:"password",placeholder:"请再次输入密码"},domProps:{value:t.password2},on:{input:function(e){e.target.composing||(t.password2=e.target.value)}}}),e("br"),e("button",{staticClass:"register",on:{click:function(e){return t.register()}}},[t._v("注册")]),e("br"),e("div",{staticClass:"backToLog",on:{click:function(e){return t.$router.back()}}},[t._v("返回登录")])])])])},w=[function(){var t=this,e=t._self._c;return e("h3",{staticClass:"sysName"},[t._v("欢迎使用"),e("br"),t._v("ChatAAA")])}],C={name:"AccountRegister",data(){return{mail_account:"",mail_check:"",code:"",code_input:"",password:"",password2:"",validPassword:!0,isWaiting:!1,remainingTime:60}},created(){document.title="注册-chataaa",localStorage.getItem("mail_check")&&(this.mail_check=localStorage.getItem("mail_check"),this.mail_account=this.mail_check),this.code=localStorage.getItem("code");const t=localStorage.getItem("endTime");t&&t>Date.now()&&(this.remainingTime=Math.ceil((t-Date.now())/1e3),this.isWaiting=!0,this.startTimer())},methods:{checkPassword(){const t=/^(?=.*[a-zA-Z])(?=.*\d)(?!.*\s).{10,12}$/;this.validPassword=t.test(this.password)},async sendCode(){if(""!==this.mail_account.trim()){if(!this.isWaiting){const t=await _.Z.post("http://8.134.178.190:5000/login_system/register_verification_code",{mail_account:this.mail_account});if("400"===t.data.code)return void alert("获取验证码失败");if(this.mail_check=t.data.mail_account,localStorage.setItem("mail_check",this.mail_account),localStorage.setItem("code",t.data.verification_code),"401"===t.data.code)return void alert("用户邮箱已存在");if("400"===t.data.code)return void alert("验证码发送失败，请稍后重试");this.code=t.data.verification_code,console.log(t);const e=Date.now()+6e4;localStorage.setItem("endTime",e),this.isWaiting=!0,this.startTimer()}}else alert("邮箱不能为空")},startTimer(){const t=setInterval((()=>{this.remainingTime>0?(this.isWaiting=!0,this.remainingTime--):(this.isWaiting=!1,this.remainingTime=60,localStorage.removeItem("endTime"),clearInterval(t))}),1e3)},async register(){if(this.checkPassword(),this.mail_check!==this.mail_account)return void alert("注册邮箱必须与获取验证码邮箱一致！");if(""===this.mail_account.trim())return void alert("邮箱不能为空");if(""===this.code_input.trim())return void alert("验证码不能为空");if(""===this.password.trim())return void alert("密码不能为空");if(""===this.password2.trim())return void alert("请再次输入确认密码");if(this.code!==this.code_input)return void alert("验证码有误");if(!1===this.validPassword)return void alert("输入的密码不符合格式要求");if(this.password!==this.password2)return void alert("两次密码输入不一致");const t=await _.Z.post("http://8.134.178.190:5000/login_system/register",{mail_account:this.mail_account,password:this.password});"400"!==t.data.code?(alert("注册成功！"),localStorage.removeItem("mail_check"),localStorage.removeItem("code"),this.$router.push("/login_system"),console.log(t)):alert("注册失败")}}},y=C,k=(0,l.Z)(y,f,w,!1,null,"759f8be2",null),A=k.exports,x=function(){var t=this,e=t._self._c;return e("div",{staticClass:"first"},[e("div",{staticClass:"second"},[e("img",{attrs:{src:s(7525),alt:""}}),t._m(0),e("div",{staticClass:"text"},[e("h3",[t._v("重置密码")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.mail_account,expression:"mail_account"}],staticClass:"inp inp1",attrs:{type:"text",placeholder:"请输入您的邮箱"},domProps:{value:t.mail_account},on:{input:function(e){e.target.composing||(t.mail_account=e.target.value)}}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.code_input,expression:"code_input"}],staticClass:"inp inp2",attrs:{type:"text",placeholder:"请输入验证码"},domProps:{value:t.code_input},on:{input:function(e){e.target.composing||(t.code_input=e.target.value)}}}),e("button",{staticClass:"sendCode",attrs:{disabled:t.isWaiting},on:{click:function(e){return t.sendCode()}}},[t._v(t._s(t.isWaiting?`${t.remainingTime}s`:"发送验证码"))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"inp inp3",attrs:{type:"password",placeholder:"请输入密码10-12位，必须包含字母和数字，不能有空格"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.password2,expression:"password2"}],staticClass:"inp inp4",attrs:{type:"password",placeholder:"请再次输入密码"},domProps:{value:t.password2},on:{input:function(e){e.target.composing||(t.password2=e.target.value)}}}),e("br"),e("button",{staticClass:"chess",on:{click:function(e){return t.chess()}}},[t._v("确定")]),e("br"),e("div",{staticClass:"backToLogin",on:{click:function(e){return t.back()}}},[t._v("返回登录")])])])])},b=[function(){var t=this,e=t._self._c;return e("h3",{staticClass:"sysName"},[t._v("欢迎使用"),e("br"),t._v("ChatAAA")])}],I={name:"FindPassword",data(){return{mail_account:"",mail_check:"",password:"",password2:"",code:"",code_input:"",validPassword:!0,isWaiting:!1,remainingTime:60}},created(){document.title="找回密码-chataaa",localStorage.getItem("mail_check")&&(this.mail_check=localStorage.getItem("mail_check"),this.mail_account=this.mail_check),this.code=localStorage.getItem("code");const t=localStorage.getItem("endTime2");t&&t>Date.now()&&(this.remainingTime=Math.ceil((t-Date.now())/1e3),this.isWaiting=!0,this.startTimer())},methods:{checkPassword(){const t=/^(?=.*[a-zA-Z])(?=.*\d)(?!.*\s).{10,12}$/;this.validPassword=t.test(this.password)},async sendCode(){if(""!==this.mail_account.trim()){if(!this.isWaiting){const t=await _.Z.post("http://8.134.178.190:5000/login_system/retrieve_verification_code",{mail_account:this.mail_account});if(this.mail_check=t.data.mail_account,localStorage.setItem("mail_check",this.mail_account),localStorage.setItem("code",t.data.verification_code),"400"===t.data.code)return void alert("发送验证码失败");if("401"===t.data.code)return void alert("该用户邮箱未注册");if("400"===t.data.code)return void alert("验证码发送失败，请稍后重试");this.code=t.data.verification_code;const e=Date.now()+6e4;localStorage.setItem("endTime2",e),this.isWaiting=!0,this.startTimer()}}else alert("邮箱不能为空")},startTimer(){const t=setInterval((()=>{this.remainingTime>0?(this.isWaiting=!0,this.remainingTime--):(this.isWaiting=!1,this.remainingTime=60,localStorage.removeItem("endTime2"),clearInterval(t))}),1e3)},async chess(){if(this.checkPassword(),""===this.mail_account.trim())return void alert("邮箱不能为空");if(""===this.code_input.trim())return void alert("验证码不能为空");if(""===this.password.trim())return void alert("密码不能为空");if(""===this.password2.trim())return void alert("请再次输入确认密码");if(this.mail_check!==this.mail_account)return alert("修改密码的邮箱账号必须与获取验证码邮箱一致！"),console.log(this.mail_account),void console.log(this.mail_check);if(this.code!==this.code_input)return void alert("验证码有误");if(!1===this.validPassword)return void alert("输入的密码不符合格式要求");if(this.password!==this.password2)return void alert("两次密码输入不一致");const t=await _.Z.post("http://8.134.178.190:5000/login_system/retrieve_password",{mail_account:this.mail_account,password:this.password});"400"!==t.data.code?(alert("密码重置成功"),localStorage.removeItem("mail_check"),localStorage.removeItem("code"),this.mail_check="",this.$router.push("/login_system")):alert("操作失败")},back(){this.$router.push("/login_system"),localStorage.removeItem("mail_check"),localStorage.removeItem("code")}}},D=I,M=(0,l.Z)(D,x,b,!1,null,"52b38136",null),P=M.exports,V=function(){var t=this,e=t._self._c;return e("div",{staticClass:"wrapped"},[e("div",{staticClass:"left"},[e("ul",{staticClass:"leftText"},[e("li",{staticClass:"one",on:{click:function(e){return t.toChat()}}},[t._v("聊天框")]),e("li",{staticClass:"two",on:{click:function(e){return t.manageRoles()}}},[t._v("角色管理")]),e("li",{staticClass:"three",on:{click:function(e){return t.createRoles()}}},[t._v("新建角色")]),e("li",{staticClass:"four"},[t._v("设置")]),e("li",{staticClass:"five",on:{click:function(e){return t.exit()}}},[t._v("退出登录")])])]),e("div",{staticClass:"middle"},[e("div",{staticClass:"middleSetting"},[t._v("设置")]),e("div",{staticClass:"settingTop active"},[t._v("个人信息")]),e("div",{staticClass:"settingTop",on:{click:function(e){return t.changePsd()}}},[t._v("修改密码")]),e("div",{staticClass:"settingTop",on:{click:function(e){return t.toFeedback()}}},[t._v("提交反馈")])]),e("div",{staticClass:"right"},[t.noModify?e("div",{staticClass:"display"},[e("img",{attrs:{src:t.file_show1,alt:""}}),e("br"),e("span",{staticClass:"email"},[t._v("邮箱： "+t._s(t.mail_account))]),e("span",{staticClass:"nickname"},[t._v("昵称： "+t._s(t.nickname_show))]),e("br"),e("span",{staticClass:"sex"},[t._v("性别： "+t._s(t.sex_show))]),e("br"),e("span",{staticClass:"vip"},[e("span",{directives:[{name:"show",rawName:"v-show",value:t.isVip,expression:"isVip"}]},[t._v("VIP ： 您已经是VIP用户，剩余"),e("strong",[t._v(t._s(t.vipDays))]),t._v("天，继续")]),e("span",{directives:[{name:"show",rawName:"v-show",value:t.isVip,expression:"isVip"}],staticClass:"recharge",on:{click:function(e){return t.recharge()}}},[t._v("充值")]),e("span",{directives:[{name:"show",rawName:"v-show",value:!t.isVip,expression:"!isVip"}]},[t._v("VIP ： 您还不是VIP用户，快去")]),e("span",{directives:[{name:"show",rawName:"v-show",value:!t.isVip,expression:"!isVip"}],staticClass:"recharge",on:{click:function(e){return t.recharge()}}},[t._v("升级会员")]),e("span",{directives:[{name:"show",rawName:"v-show",value:!t.isVip,expression:"!isVip"}]},[t._v("吧")])]),e("span",{directives:[{name:"show",rawName:"v-show",value:t.isCloseShow,expression:"isCloseShow"}],staticClass:"isClose"},[t._v("自动关闭广告"),e("strong",[t._v("已开启")])]),e("span",{directives:[{name:"show",rawName:"v-show",value:!t.isCloseShow,expression:"!isCloseShow"}],staticClass:"isClose"},[t._v("自动关闭广告"),e("strong",[t._v("未开启")])]),e("div",{staticClass:"edit",on:{click:function(e){return t.edit()}}},[t._v("编辑")])]):e("div",{staticClass:"modifying"},[e("input",{ref:"fileInput",staticStyle:{display:"none"},attrs:{type:"file"},on:{change:t.handleFileChange}}),e("div",{on:{click:function(e){return t.triggerFileInput()}}},[e("img",{attrs:{src:t.file_show2,alt:""}})]),e("br"),e("span",{staticClass:"email"},[t._v("邮箱： "+t._s(t.mail_account))]),e("div",{staticClass:"nickname"},[e("span",[t._v("昵称： ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.nickname,expression:"nickname"}],attrs:{type:"text",placeholder:"请输入您的昵称"},domProps:{value:t.nickname},on:{input:function(e){e.target.composing||(t.nickname=e.target.value)}}}),t._v(" "),e("span",[t._v("（昵称不能为空）")])]),e("br"),e("div",{staticClass:"sex"},[e("span",[t._v("性别： ")]),e("label",{attrs:{for:"man"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.sex,expression:"sex"}],attrs:{type:"radio",name:"gender",value:"男",id:"man"},domProps:{checked:t._q(t.sex,"男")},on:{change:function(e){t.sex="男"}}}),t._v(" 男 ")]),e("label",{attrs:{for:"woman"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.sex,expression:"sex"}],attrs:{type:"radio",name:"gender",value:"女",id:"woman"},domProps:{checked:t._q(t.sex,"女")},on:{change:function(e){t.sex="女"}}}),t._v(" 女")])]),t.isVip?e("label",{staticClass:"closeAdvertisement"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.isClose,expression:"isClose"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.isClose)?t._i(t.isClose,null)>-1:t.isClose},on:{change:function(e){var s=t.isClose,i=e.target,a=!!i.checked;if(Array.isArray(s)){var r=null,o=t._i(s,r);i.checked?o<0&&(t.isClose=s.concat([r])):o>-1&&(t.isClose=s.slice(0,o).concat(s.slice(o+1)))}else t.isClose=a}}}),t._v(" 自动关闭广告")]):e("label",{staticClass:"closeAdvertisement",on:{click:function(e){return t.noVip()}}},[e("input",{attrs:{type:"checkbox",disabled:""}}),t._v(" 自动关闭广告")]),e("div",{staticClass:"edit",on:{click:function(e){return t.exitEdit()}}},[t._v("退出编辑")]),e("div",{staticClass:"chess",on:{click:function(e){return t.chessEdit()}}},[t._v("确定")])])])])},Y=[],N=(s(8858),s(1318),s(3228),{name:"SettingInfo",data(){return{noModify:!0,user_id:this.$route.query.user_id,mail_account:"",nickname_show:"",nickname:"",sex_show:"",sex:"",file_show1:null,file_show2:null,file_get:null,vipDays:30,isVip:!1,isClose:!1,isCloseShow:!1,is_limit:!1}},created(){document.title="设置-chataaa",this.getInfo()},methods:{async getInfo(){const t=await _.Z.get("http://8.134.178.190:5000/user/information/get",{params:{user_id:this.user_id}});if("400"===t.data.code)return void alert("操作失败");this.mail_account=t.data.mail_account,this.nickname_show=t.data.nickname,this.nickname=t.data.nickname,this.sex_show=t.data.sex,this.sex=t.data.sex,this.vipDays=t.data.vip_time,this.isCloseShow=t.data.advertise_state,this.isClose=t.data.advertise_state,this.vipDays>0&&(this.isVip=!0);const e=await _.Z.get("http://8.134.178.190:5000/user/information/get_head_portrait",{params:{user_id:this.user_id},responseType:"blob"});if("400"===e.data.code)return void alert("操作失败");const s=URL.createObjectURL(e.data);this.file_show1=s;const i=await _.Z.get("http://8.134.178.190:5000/user/get_vip_state",{params:{user_id:this.user_id}});if("400"===i.data.code)return void alert("获取vip身份失败");this.isVip=i.data.state;const a=await _.Z.get("http://8.134.178.190:5000/user/is_limit_login",{params:{user_id:this.user_id}});"400"!==a.data.code?(this.is_limit=a.data.is_limit,!0===this.is_limit&&(alert("您已被限制登录"),this.exit())):alert("信息获取失败")},triggerFileInput(){this.$refs.fileInput.click()},handleFileChange(t){this.file_get=t.target.files[0],this.file_show2=URL.createObjectURL(this.file_get)},toChat(){this.$router.push({path:"/chatInterface",query:{user_id:this.user_id}})},manageRoles(){this.isVip?this.$router.push({path:"/ManageRoles",query:{user_id:this.user_id}}):alert("该功能为VIP用户专享，快去升级会员吧！")},createRoles(){this.isVip?this.$router.push({path:"/createRoles",query:{user_id:this.user_id}}):alert("该功能为VIP用户专享，快去升级会员吧！")},toFeedback(){this.$router.push({path:"/feedback",query:{user_id:this.user_id}})},recharge(){this.$router.push({path:"/recharge",query:{user_id:this.user_id}})},async exit(){const t=await _.Z.post("http://8.134.178.190:5000/login_system/log_out",{user_id:this.user_id});"400"!==t.data.code?(this.cookie.clearCookie("remember_token"),this.cookie.clearCookie("session"),this.cookie.clearCookie("user_id"),this.$router.push("/login_system")):this.$message.error("退出登录失败")},edit(){this.noModify=!1,this.file_show2=this.file_show1,this.isClose=this.isCloseShow,this.nickname=this.nickname_show,this.sex=this.sex_show},noVip(){alert("“自动关闭广告”功能仅VIP用户可用")},exitEdit(){this.noModify=!0,this.file_show2=this.file_show1,this.isClose=this.isCloseShow,this.nickname=this.nickname_show,this.sex=this.sex_show},async chessEdit(){if(""===this.nickname.trim())return void alert("昵称不能为空！");this.noModify=!0;const t=await _.Z.post("http://8.134.178.190:5000/user/information/set",{user_id:this.user_id,nickname:this.nickname,sex:this.sex,advertise_state:this.isClose});if("400"!==t.data.code){if(null!==this.file_get){let t=new FormData;t.append("file",this.file_get),t.append("user_id",this.user_id);const e=await _.Z.post("http://8.134.178.190:5000/user/information/change_headportrait",t);if("400"===e.data.code)return void alert("头像上传失败");this.file_show1=this.file_show2}this.isCloseShow=this.isClose,this.nickname_show=this.nickname,this.sex_show=this.sex}else alert("操作失败")},changePsd(){this.$router.push({path:"/changePassword",query:{user_id:this.user_id}})}}}),W=N,q=(0,l.Z)(W,V,Y,!1,null,"1a3b3513",null),T=q.exports,U=function(){var t=this,e=t._self._c;return e("div",{staticClass:"wrapped"},[e("div",{staticClass:"left"},[e("ul",{staticClass:"leftText"},[e("li",{staticClass:"one",on:{click:function(e){return t.toChat()}}},[t._v("聊天框")]),e("li",{staticClass:"two",on:{click:function(e){return t.manageRoles()}}},[t._v("角色管理")]),e("li",{staticClass:"three",on:{click:function(e){return t.createRoles()}}},[t._v("新建角色")]),e("li",{staticClass:"four",on:{click:function(e){return t.setting()}}},[t._v("设置")]),e("li",{staticClass:"five",on:{click:function(e){return t.exit()}}},[t._v("退出登录")])])]),e("div",{staticClass:"middle"},[e("div",{staticClass:"middleSetting"},[t._v("设置")]),e("div",{staticClass:"settingTop",on:{click:function(e){return t.setting()}}},[t._v("个人信息")]),e("div",{staticClass:"settingTop active"},[t._v("修改密码")]),e("div",{staticClass:"settingTop",on:{click:function(e){return t.toFeedback()}}},[t._v("提交反馈")])]),e("div",{staticClass:"right"},[e("div",{staticClass:"rightLeft"},[t._v("ChatAAA")]),e("div",{staticClass:"rightRight"},[e("h3",[t._v("修改密码")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.old_password,expression:"old_password"}],staticClass:"inp inp1",attrs:{type:"password",placeholder:"请输入原密码"},domProps:{value:t.old_password},on:{input:function(e){e.target.composing||(t.old_password=e.target.value)}}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.new_password,expression:"new_password"}],staticClass:"inp inp2",attrs:{type:"password",placeholder:"请输入新密码10-12位，需包含字母和数字，不能有空格"},domProps:{value:t.new_password},on:{input:function(e){e.target.composing||(t.new_password=e.target.value)}}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.new_password2,expression:"new_password2"}],staticClass:"inp inp3",attrs:{type:"password",placeholder:"请再次输入新密码"},domProps:{value:t.new_password2},on:{input:function(e){e.target.composing||(t.new_password2=e.target.value)}}}),e("div",{staticClass:"chess",on:{click:function(e){return t.chess()}}},[t._v("确认")]),e("div",{staticClass:"back",on:{click:function(e){return t.$router.back()}}},[t._v("返回")])])])])},Z=[],S={name:"ChangePassword",data(){return{noModify:!0,user_id:this.$route.query.user_id,old_password:"",new_password:"",new_password2:"",validPassword:!0,isVip:!1,is_limit:!1}},async created(){document.title="修改密码-chataaa";const t=await _.Z.get("http://8.134.178.190:5000/user/get_vip_state",{params:{user_id:this.user_id}});if("400"===t.data.code)return void alert("获取vip身份失败");this.isVip=t.data.state;const e=await _.Z.get("http://8.134.178.190:5000/user/is_limit_login",{params:{user_id:this.user_id}});"400"!==e.data.code?(this.is_limit=e.data.is_limit,!0===this.is_limit&&(alert("您已被限制登录"),this.exit())):alert("信息获取失败")},methods:{checkPassword(){const t=/^(?=.*[a-zA-Z])(?=.*\d)(?!.*\s).{10,12}$/;this.validPassword=t.test(this.new_password)},async chess(){if(this.checkPassword(),""===this.old_password.trim())return void alert("请输入原密码");if(""===this.new_password.trim())return void alert("请输入新密码");if(!1===this.validPassword)return void alert("输入密码格式有误");if(""===this.new_password2.trim())return void alert("请再次输入新密码确认");if(this.new_password!==this.new_password2)return void alert("两次密码输入不一致");const t=await _.Z.post("http://8.134.178.190:5000/user/information/change",{user_id:this.user_id,old_password:this.old_password,new_password:this.new_password});if("400"!==t.data.code)if("200"===t.data.code)alert("密码修改成功");else{if("400"===t.data.code)return void alert("修改失败");if("401"===t.data.code)return void alert("原密码输入错误")}else alert("操作失败")},setting(){this.$router.push({path:"/setting",query:{user_id:this.user_id}})},toChat(){this.$router.push({path:"/chatInterface",query:{user_id:this.user_id}})},manageRoles(){this.isVip?this.$router.push({path:"/ManageRoles",query:{user_id:this.user_id}}):alert("该功能为VIP用户专享，快去升级会员吧！")},createRoles(){this.isVip?this.$router.push({path:"/createRoles",query:{user_id:this.user_id}}):alert("该功能为VIP用户专享，快去升级会员吧！")},toFeedback(){this.$router.push({path:"/feedback",query:{user_id:this.user_id}})},async exit(){const t=await _.Z.post("http://8.134.178.190:5000/login_system/log_out",{user_id:this.user_id});"400"!==t.data.code?(this.cookie.clearCookie("remember_token"),this.cookie.clearCookie("session"),this.cookie.clearCookie("user_id"),this.$router.push("/login_system")):this.$message.error("退出登录失败")}}},F=S,R=(0,l.Z)(F,U,Z,!1,null,"d60f92f6",null),$=R.exports,j=function(){var t=this,e=t._self._c;return e("div",{staticClass:"wrapped"},[e("div",{staticClass:"left"},[e("ul",{staticClass:"leftText"},[e("li",{staticClass:"one",on:{click:function(e){return t.toChat()}}},[t._v("聊天框")]),e("li",{staticClass:"two",on:{click:function(e){return t.manageRoles()}}},[t._v("角色管理")]),e("li",{staticClass:"three",on:{click:function(e){return t.createRoles()}}},[t._v("新建角色")]),e("li",{staticClass:"four",on:{click:function(e){return t.setting()}}},[t._v("设置")]),e("li",{staticClass:"five",on:{click:function(e){return t.exit()}}},[t._v("退出登录")])])]),e("div",{staticClass:"middle"},[e("div",{staticClass:"middleSetting"},[t._v("设置")]),e("div",{staticClass:"settingTop",on:{click:function(e){return t.setting()}}},[t._v("个人信息")]),e("div",{staticClass:"settingTop",on:{click:function(e){return t.changePsd()}}},[t._v("修改密码")]),e("div",{staticClass:"settingTop active"},[t._v("提交反馈")])]),e("div",{staticClass:"right"},[e("div",{staticClass:"rightTop"},[t._v("提交反馈")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],attrs:{name:"",id:"",cols:"30",rows:"10",placeholder:"请输入反馈内容"},domProps:{value:t.content},on:{input:function(e){e.target.composing||(t.content=e.target.value)}}}),e("button",{staticClass:"submit",on:{click:function(e){return t.submit()}}},[t._v("提交")])])])},B=[],z={name:"FeedBack",data(){return{user_id:this.$route.query.user_id,noModify:!0,content:"",is_limit:!1,isVip:!1}},async created(){document.title="提交反馈-chataaa";const t=await _.Z.get("http://8.134.178.190:5000/user/get_vip_state",{params:{user_id:this.user_id}});if("400"===t.data.code)return void alert("获取vip身份失败");this.isVip=t.data.state;const e=await _.Z.get("http://8.134.178.190:5000/user/is_limit_login",{params:{user_id:this.user_id}});"400"!==e.data.code?(this.is_limit=e.data.is_limit,!0===this.is_limit&&(alert("您已被限制登录"),this.exit())):alert("信息获取失败")},methods:{async submit(){if(""===this.content.trim())return void alert("反馈内容不能为空");const t=await _.Z.post("http://8.134.178.190:5000/user/feedback",{user_id:this.user_id,content:this.content});"200"===t.data.code&&(this.content="",alert("提交成功！")),"400"!==t.data.code||alert("提交失败")},setting(){this.$router.push({path:"/setting",query:{user_id:this.user_id}})},toChat(){this.$router.push({path:"/chatInterface",query:{user_id:this.user_id}})},manageRoles(){this.isVip?this.$router.push({path:"/ManageRoles",query:{user_id:this.user_id}}):alert("该功能为VIP用户专享，快去升级会员吧！")},createRoles(){this.isVip?this.$router.push({path:"/createRoles",query:{user_id:this.user_id}}):alert("该功能为VIP用户专享，快去升级会员吧！")},toFeedback(){this.$router.push({path:"/feedback",query:{user_id:this.user_id}})},changePsd(){this.$router.push({path:"/changePassword",query:{user_id:this.user_id}})},async exit(){const t=await _.Z.post("http://8.134.178.190:5000/login_system/log_out",{user_id:this.user_id});"400"!==t.data.code?(this.cookie.clearCookie("remember_token"),this.cookie.clearCookie("session"),this.cookie.clearCookie("user_id"),this.$router.push("/login_system")):this.$message.error("退出登录失败")}}},G=z,O=(0,l.Z)(G,j,B,!1,null,"a1c1a7c6",null),Q=O.exports,E=function(){var t=this,e=t._self._c;return e("div",{staticClass:"wrapped"},[e("div",{staticClass:"left"},[e("ul",{staticClass:"leftText"},[e("li",{staticClass:"one"},[t._v("信息设置")]),e("li",{staticClass:"two",on:{click:function(e){return t.manageUsers()}}},[t._v("用户管理")]),e("li",{staticClass:"three",on:{click:function(e){return t.seeInfo()}}},[t._v("查看信息")]),e("li",{staticClass:"four",on:{click:function(e){return t.feedback()}}},[t._v("用户反馈")]),e("li",{staticClass:"five",on:{click:t.exit}},[t._v("退出登录")])])]),e("div",{staticClass:"right"},[t.noModify?e("div",{staticClass:"display"},[e("h2",[t._v("信息设置")]),e("div",{staticClass:"contactUs"},[e("span",{staticClass:"contactUsLeft"},[t._v("“联系我们”：")]),e("span",[t._v(t._s(t.contact_way_show))])]),e("div",{staticClass:"userMustKnow"},[e("span",[t._v("“用户须知”：")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.user_agreement_show,expression:"user_agreement_show"}],attrs:{disabled:""},domProps:{value:t.user_agreement_show},on:{input:function(e){e.target.composing||(t.user_agreement_show=e.target.value)}}})]),e("div",{staticClass:"advertisement"},[e("span",[t._v("广告图片：")]),e("button",{staticClass:"seePicture",on:{click:function(e){return t.seePicture()}}},[t._v("查看图片")])]),e("div",{staticClass:"jump"},[e("span",[t._v("广告链接：")]),e("span",{staticClass:"link"},[t._v(t._s(t.link_show))])]),e("div",{staticClass:"edit",on:{click:function(e){return t.edit()}}},[t._v("编辑")]),e("div",{directives:[{name:"show",rawName:"v-show",value:null!==t.picture_show,expression:"picture_show !== null"}],staticClass:"picture"},[e("img",{attrs:{src:t.picture_show,alt:""}}),e("div",{staticClass:"closePic",on:{click:function(e){return t.closePic()}}},[t._v("❎")])])]):e("div",{staticClass:"modifying"},[e("h2",[t._v("信息设置")]),e("div",{staticClass:"contactUs"},[e("span",{staticClass:"contactUsLeft"},[t._v("“联系我们”内容设置：")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.contact_way,expression:"contact_way"}],attrs:{type:"text",name:"",id:""},domProps:{value:t.contact_way},on:{input:function(e){e.target.composing||(t.contact_way=e.target.value)}}})]),e("div",{staticClass:"userMustKnow"},[e("span",[t._v("“用户须知”内容设置：")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.user_agreement,expression:"user_agreement"}],domProps:{value:t.user_agreement},on:{input:function(e){e.target.composing||(t.user_agreement=e.target.value)}}})]),e("div",{staticClass:"advertisement"},[e("span",[t._v("广告图片设置：")]),e("input",{ref:"pictureInput",staticStyle:{display:"none"},attrs:{type:"file",name:"image",accept:"image/*"},on:{change:t.handlePictureChange}}),e("button",{staticClass:"upload",on:{click:function(e){return t.triggerPictureInput()}}},[t._v("上传图片")]),e("span",[t._v(t._s(t.picture_name))])]),e("div",{staticClass:"jump"},[e("span",[t._v("广告链接设置：")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.link,expression:"link"}],attrs:{type:"text"},domProps:{value:t.link},on:{input:function(e){e.target.composing||(t.link=e.target.value)}}})]),e("div",{staticClass:"cancel",on:{click:function(e){return t.cancel()}}},[t._v("取消")]),e("div",{staticClass:"chess",on:{click:function(e){return t.chess()}}},[t._v("确定")])])])])},L=[],X={name:"SetInformation",data(){return{user_id:this.$route.query.user_id,noModify:!0,contact_way:"",user_agreement:"",contact_way_show:"",user_agreement_show:"",picture_temp:null,picture_show:null,picture_get:null,picture_name:"",link:"",link_show:""}},created(){document.title="设置信息-chataaa",this.getInfo()},methods:{manageUsers(){this.$router.push({path:"/manageUsers",query:{user_id:this.user_id}})},seeInfo(){this.$router.push({path:"/seeInformation",query:{user_id:this.user_id}})},feedback(){this.$router.push({path:"/seeFeedBack",query:{user_id:this.user_id}})},edit(){this.contact_way=this.contact_way_show,this.user_agreement=this.user_agreement_show,this.picture_name=this.picture_name_show,this.link=this.link_show,this.noModify=!1,console.log("edit")},async getInfo(){const t=await _.Z.get("http://8.134.178.190:5000/administrator/get_company_info");console.log(t),this.contact_way_show=t.data.data.contact_way,this.user_agreement_show=t.data.data.user_agreement;const e=await _.Z.get("http://8.134.178.190:5000/administrator/get_old_advertise",{params:{},responseType:"blob"});if("400"===e.data.code)return void alert("获取图片失败");const s=URL.createObjectURL(e.data);this.picture_temp=s;const i=await _.Z.get("http://8.134.178.190:5000/administrator/get_url_link");"400"!==i.data.code?(this.link_show=i.data.data.url,console.log(i)):alert("上传链接错误")},seePicture(){this.picture_show=this.picture_temp},closePic(){this.picture_show=null},triggerPictureInput(){this.$refs.pictureInput.click()},handlePictureChange(t){const e=t.target.files[0];e&&e.type.startsWith("image/")?(this.picture_get=e,this.picture_name=this.picture_get.name):(alert("请选择图片文件"),t.target.value=null)},cancel(){this.noModify=!0},async chess(){const t=await _.Z.post("http://8.134.178.190:5000/administrator/set_company_info",{contact_way:this.contact_way,user_agreement:this.user_agreement});if("400"===t.data.code)return void alert("上传信息错误");if(this.contact_way_show=this.contact_way,this.user_agreement_show=this.user_agreement,null!==this.picture_get){let t=new FormData;t.append("advertise",this.picture_get);const e=await _.Z.post("http://8.134.178.190:5000/administrator/set_advertising",t);if("400"===e.data.code)return void alert("上传图片错误");this.picture_temp=URL.createObjectURL(this.picture_get),this.picture_get=null}const e=await _.Z.post("http://8.134.178.190:5000/administrator/change_url_link",{url:this.link});"400"!==e.data.code?(this.link_show=this.link,this.noModify=!this.noModify,alert("设置成功！")):alert("上传链接错误")},async exit(){const t=await _.Z.post("http://8.134.178.190:5000/login_system/log_out",{user_id:this.user_id});"400"!==t.data.code?(this.cookie.clearCookie("remember_token"),this.cookie.clearCookie("session"),this.cookie.clearCookie("user_id"),this.$router.push("/login_system")):this.$message.error("退出登录失败")}}},H=X,K=(0,l.Z)(H,E,L,!1,null,"989e9c1c",null),J=K.exports,tt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"wrapped"},[e("div",{staticClass:"left"},[e("ul",{staticClass:"leftText"},[e("li",{staticClass:"one",on:{click:function(e){return t.setInfo()}}},[t._v("信息设置")]),e("li",{staticClass:"two",on:{click:function(e){return t.manageUsers()}}},[t._v("用户管理")]),e("li",{staticClass:"three"},[t._v("查看信息")]),e("li",{staticClass:"four",on:{click:function(e){return t.feedback()}}},[t._v("用户反馈")]),e("li",{staticClass:"five",on:{click:function(e){return t.exit()}}},[t._v("退出登录")])])]),e("div",{staticClass:"middle"},[e("div",{staticClass:"middleSeeing"},[t._v("查看信息")]),e("div",{staticClass:"seeingTop",class:{active:t.show_login},on:{click:function(e){return t.showLogin()}}},[t._v("用户登录信息")]),e("div",{staticClass:"seeingTop",class:{active:!t.show_login},on:{click:function(e){return t.showError()}}},[t._v("系统错误日志")]),e("div",{staticClass:"seeingTop",on:{click:function(e){return t.toVipInfo()}}},[t._v("会员充值信息")])]),e("div",{staticClass:"right"},[e("form",{directives:[{name:"show",rawName:"v-show",value:t.show_login,expression:"show_login"}]},[e("div",{staticClass:"rightTop"},[t._v("用户登录信息")]),e("div",{staticClass:"rightMain"},[e("table",[t._m(0),t._l(t.login_log,(function(s,i){return e("tr",{key:i},[e("td",[t._v(t._s(s.mail_account))]),e("td",[t._v(t._s(s.timing))]),e("td",[t._v(t._s(s.type))])])}))],2)]),e("button",{staticClass:"export",on:{click:function(e){return t.downloadCSV1()}}},[t._v("导出数据")])]),e("form",{directives:[{name:"show",rawName:"v-show",value:!t.show_login,expression:"!show_login"}]},[e("div",{staticClass:"rightTop"},[t._v("系统错误日志")]),e("div",{staticClass:"rightMain"},[e("table",[t._m(1),t._l(t.error_log,(function(s,i){return e("tr",{key:i},[e("td",[t._v(t._s(s.timing))]),e("td",[t._v(t._s(s.error_code))]),e("td",[t._v(t._s(s.error_description))])])}))],2)]),e("button",{staticClass:"export",on:{click:function(e){return t.downloadCSV2()}}},[t._v("导出数据")])])])])},et=[function(){var t=this,e=t._self._c;return e("tr",[e("th",[t._v("邮箱")]),e("th",[t._v("时间")]),e("th",[t._v("登入/登出")])])},function(){var t=this,e=t._self._c;return e("tr",[e("th",[t._v("时间")]),e("th",[t._v("错误码")]),e("th",[t._v("错误信息")])])}],st=s(6154),it={name:"SeeInformation",data(){return{user_id:this.$route.query.user_id,show_login:!0,login_log:[],error_log:[]}},async created(){document.title="查看信息-chataaa";const t=await _.Z.get("http://8.134.178.190:5000/administrator/log/get_all_log");this.login_log=t.data.data;const e=await _.Z.get("http://8.134.178.190:5000/administrator/log/get_error_log");this.error_log=e.data.data,console.log(t),console.log(e)},methods:{setInfo(){this.$router.push({path:"/setInformation",query:{user_id:this.user_id}})},manageUsers(){this.$router.push({path:"/manageUsers",query:{user_id:this.user_id}})},feedback(){this.$router.push({path:"/seeFeedBack",query:{user_id:this.user_id}})},downloadCSV1(){const t=this.convertToCSV(this.login_log),e=new Blob([t],{type:"text/csv;charset=utf-8"});(0,st.saveAs)(e,"login_information.csv")},downloadCSV2(){const t=this.convertToCSV(this.error_log),e=new Blob([t],{type:"text/csv;charset=utf-8"});(0,st.saveAs)(e,"error_information.csv")},convertToCSV(t){const e=Object.keys(t[0]).join(","),s=t.map((t=>Object.values(t).join(",")));return`${e}\n${s.join("\n")}`},showLogin(){this.show_login=!0},showError(){this.show_login=!1},toVipInfo(){this.$router.push({path:"/ordersInformation",query:{user_id:this.user_id}})},async exit(){const t=await _.Z.post("http://8.134.178.190:5000/login_system/log_out",{user_id:this.user_id});"400"!==t.data.code?(this.cookie.clearCookie("remember_token"),this.cookie.clearCookie("session"),this.cookie.clearCookie("user_id"),this.$router.push("/login_system")):this.$message.error("退出登录失败")}}},at=it,rt=(0,l.Z)(at,tt,et,!1,null,"840ebaba",null),ot=rt.exports,nt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"wrapped"},[e("div",{staticClass:"left"},[e("ul",{staticClass:"leftText"},[e("li",{staticClass:"one",on:{click:function(e){return t.setInfo()}}},[t._v("信息设置")]),e("li",{staticClass:"two"},[t._v("用户管理")]),e("li",{staticClass:"three",on:{click:function(e){return t.seeInfo()}}},[t._v("查看信息")]),e("li",{staticClass:"four",on:{click:function(e){return t.toFeedback()}}},[t._v("用户反馈")]),e("li",{staticClass:"five",on:{click:function(e){return t.exit()}}},[t._v("退出登录")])])]),e("div",{staticClass:"right"},[e("h2",[t._v("用户管理")]),e("div",{staticClass:"inp1"},[e("span",[t._v("用户邮箱： ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.mail_account,expression:"mail_account"}],attrs:{type:"text",placeholder:"请输入用户邮箱"},domProps:{value:t.mail_account},on:{input:function(e){e.target.composing||(t.mail_account=e.target.value)}}})]),e("div",{staticClass:"inp2"},[e("span",[t._v("用户昵称： ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.nickname,expression:"nickname"}],attrs:{type:"text",placeholder:"请输入用户昵称"},domProps:{value:t.nickname},on:{input:function(e){e.target.composing||(t.nickname=e.target.value)}}})]),e("button",{staticClass:"query",on:{click:function(e){return t.search()}}},[t._v("查询")]),e("div",{staticClass:"Table"},[e("table",[t._m(0),e("tbody",t._l(t.user_information,(function(s,i){return e("tr",{key:i},[t._l(t.pictures,(function(t,s){return e("td",{directives:[{name:"show",rawName:"v-show",value:i===s,expression:"index1 === index2"}],key:s,staticClass:"imgWrapped"},[e("img",{attrs:{src:t,alt:""}})])})),e("td",[t._v(t._s(s.mail_account))]),e("td",[t._v(t._s(s.nickname))]),e("td",[t._v(t._s(s.sex))]),e("td",[t._v(t._s(s.is_vip))]),e("td",["false"===s.if_login_limit?e("button",{staticClass:"operation",on:{click:function(e){return t.limitLogin(i,s.user_id)}}},[t._v("限制登录")]):"true"===s.if_login_limit?e("button",{staticClass:"operation active",on:{click:function(e){return t.allowLogin(i,s.user_id)}}},[t._v("允许登录")]):t._e(),"false"===s.if_times_limit?e("button",{staticClass:"operation",on:{click:function(e){return t.limitTimes(i,s.user_id)}}},[t._v("限制次数")]):"true"===s.if_times_limit?e("button",{staticClass:"operation active",on:{click:function(e){return t.allowTimes(i,s.user_id)}}},[t._v("解除限次")]):t._e(),e("button",{staticClass:"operation",on:{click:function(e){return t.isDel(s.user_id)}}},[t._v("删除用户")])])],2)})),0)])]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.showLoginLimit,expression:"showLoginLimit"}],staticClass:"limitWindow"},[e("h3",[t._v("限制登录")]),e("span",[t._v("限制时间：")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.limitDays,expression:"limitDays"}],attrs:{name:"",id:""},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.limitDays=e.target.multiple?s:s[0]}}},[e("option",{attrs:{value:"1"}},[t._v("1天")]),e("option",{attrs:{value:"3"}},[t._v("3天")]),e("option",{attrs:{value:"5"}},[t._v("5天")]),e("option",{attrs:{value:"7"}},[t._v("7天")]),e("option",{attrs:{value:"14"}},[t._v("14天")])]),e("br"),e("button",{on:{click:function(e){return t.yesLogin()}}},[t._v("确定")]),t._v(" "),e("button",{on:{click:function(e){return t.noLogin()}}},[t._v("取消")])]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.showTimesLimit,expression:"showTimesLimit"}],staticClass:"limitWindow"},[e("h3",[t._v("限制次数")]),e("span",[t._v("限制每小时次数：")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.limittimes,expression:"limittimes"}],attrs:{name:"",id:""},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.limittimes=e.target.multiple?s:s[0]}}},[e("option",{attrs:{value:"1"}},[t._v("1次/h")]),e("option",{attrs:{value:"3"}},[t._v("3次/h")]),e("option",{attrs:{value:"5"}},[t._v("5次/h")])]),e("br"),e("button",{on:{click:function(e){return t.yesTimes()}}},[t._v("确定")]),t._v(" "),e("button",{on:{click:function(e){return t.noTimes()}}},[t._v("取消")])])])])},lt=[function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",{staticStyle:{width:"100px"}},[t._v("头像")]),e("th",{staticStyle:{width:"300px"}},[t._v("用户邮箱")]),e("th",{staticStyle:{width:"250px"}},[t._v("用户昵称")]),e("th",{staticStyle:{width:"100px"}},[t._v("性别")]),e("th",{staticStyle:{width:"100px"}},[t._v("VIP")]),e("th",{staticStyle:{width:"400px"}},[t._v("操作")])])])}],ct={name:"ManageUsers",data(){return{user_id_administrators:this.$route.query.user_id,user_id:"",showLoginLimit:!1,showTimesLimit:!1,user_information:[],index:0,limitDays:"1",limittimes:"1",mail_account:"",nickname:"",pictures:[]}},created(){document.title="用户管理-chataaa",this.getInfo()},methods:{setInfo(){this.$router.push({path:"/setInformation",query:{user_id:this.user_id_administrators}})},seeInfo(){this.$router.push({path:"/seeInformation",query:{user_id:this.user_id_administrators}})},toFeedback(){this.$router.push({path:"/seeFeedBack",query:{user_id:this.user_id_administrators}})},async exit(){const t=await _.Z.post("http://8.134.178.190:5000/login_system/log_out",{user_id:this.user_id_administrators});"400"!==t.data.code?(this.cookie.clearCookie("remember_token"),this.cookie.clearCookie("session"),this.cookie.clearCookie("user_id"),this.$router.push("/login_system")):this.$message.error("退出登录失败")},async getInfo(){const t=await _.Z.get("http://8.134.178.190:5000/administrator/get_all_user");this.user_information=t.data.data,this.getPictures(this.user_information)},async getPictures(t){this.pictures=[];let e=t.length;for(let s=0;s<e;s++){const e=await _.Z.get("http://8.134.178.190:5000/user/information/get_head_portrait",{params:{user_id:t[s].user_id},responseType:"blob"});if("400"===e.data.code)return void alert("获取图片失败");const i=URL.createObjectURL(e.data);this.pictures.push(i)}},async search(){const t=await _.Z.get("http://8.134.178.190:5000/administrator/search_user",{params:{mail_account:this.mail_account,nickname:this.nickname}});console.log(t),this.user_information=t.data.data,this.mail_account="",this.nickname="",this.getPictures(this.user_information)},limitLogin(t,e){this.showLoginLimit=!0,this.index=t,this.user_id=e},async yesLogin(){this.showLoginLimit=!1,this.user_information,this.user_information[this.index].if_login_limit="true";const t=await _.Z.post("http://8.134.178.190:5000/administrator/restrict_login",{user_id:this.user_id,number_time:this.limitDays});"400"!==t.data.code||alert("操作失败")},noLogin(){this.showLoginLimit=!1},async allowLogin(t,e){this.loginShow=!0,this.index=t,this.user_id=e,this.user_information[this.index].if_login_limit="false";const s=await _.Z.post("http://8.134.178.190:5000/administrator/restrict_login",{user_id:this.user_id,number_time:"0"});"400"!==s.data.code||alert("操作失败")},limitTimes(t,e){this.showTimesLimit=!0,this.index=t,this.user_id=e},async yesTimes(){this.showTimesLimit=!1,this.user_information[this.index].if_times_limit="true";const t=await _.Z.post("http://8.134.178.190:5000/administrator/restrict_query",{user_id:this.user_id,query_times:this.limittimes});"400"!==t.data.code||alert("操作失败")},noTimes(){this.showTimesLimit=!1},async allowTimes(t,e){this.index=t,this.user_id=e,this.user_information[this.index].if_times_limit="false";const s=await _.Z.post("http://8.134.178.190:5000/administrator/restrict_query",{user_id:this.user_id,query_times:"8"});"400"!==s.data.code||alert("操作失败")},async del(t){const e=await _.Z.delete(`http://8.134.178.190:5000/administrator/delete_user?user_id=${t}`);"400"!==e.data.code?this.getInfo():alert("删除失败")},isDel(t){const e=window.confirm("确定要删除该用户吗？");e?this.del(t):console.log("取消删除用户")}}},dt=ct,ut=(0,l.Z)(dt,nt,lt,!1,null,"6f9a89da",null),ht=ut.exports,_t=function(){var t=this,e=t._self._c;return e("div",{staticClass:"wrapped"},[e("div",{staticClass:"left"},[e("ul",{staticClass:"leftText"},[e("li",{staticClass:"one"},[t._v("聊天框")]),e("li",{staticClass:"two",on:{click:function(e){return t.manageRoles()}}},[t._v("角色管理")]),e("li",{staticClass:"three",on:{click:function(e){return t.createRoles()}}},[t._v("新建角色")]),e("li",{staticClass:"four",on:{click:function(e){return t.setting()}}},[t._v("设置")]),e("li",{staticClass:"five",on:{click:function(e){return t.exit()}}},[t._v("退出登录")])])]),e("div",{staticClass:"middle"},[e("div",{staticClass:"middleTop"},[e("button",{staticClass:"newGroup",on:{click:function(e){return t.clickNewGroup()}}},[t._v("+ New Group")]),t._v(" "),e("button",{staticClass:"newChat",on:{click:function(e){return t.clickNewChat()}}},[t._v("+ New Chat")])]),t._l(t.groups,(function(s,i){return e("ul",{key:s.group_id,staticClass:"middleMain",class:{middleMainMarginTop:0==i}},[e("li",{staticClass:"groupName",class:{groupBorder:s.group_id===t.group_id},on:{click:function(e){return t.chooseGroup(s.group_id)}}},[e("div",{staticClass:"name"},[e("span",{directives:[{name:"show",rawName:"v-show",value:"true"===s.change_group_name1,expression:"group.change_group_name1 === 'true'"}],staticClass:"group_window__name"},[t._v(t._s(s.group_name))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.newGroupName,expression:"newGroupName"},{name:"show",rawName:"v-show",value:"true"===s.change_group_name2,expression:"group.change_group_name2 === 'true'"}],staticClass:"getBorder",attrs:{type:"text",name:"",id:""},domProps:{value:t.newGroupName},on:{input:function(e){e.target.composing||(t.newGroupName=e.target.value)}}}),e("div",{directives:[{name:"show",rawName:"v-show",value:"true"===s.change_group_name2,expression:"group.change_group_name2 === 'true'"}],staticClass:"yes",on:{click:function(e){return t.chessRenameG()}}},[t._v("√")]),e("div",{directives:[{name:"show",rawName:"v-show",value:"true"===s.change_group_name2,expression:"group.change_group_name2 === 'true'"}],staticClass:"no",on:{click:function(e){return t.noRenameG(t.groups,i)}}},[t._v("×")]),e("div",{directives:[{name:"show",rawName:"v-show",value:"true"===s.judge,expression:"group.judge === 'true'"}],staticClass:"iconfont icon-xiangxia",on:{click:function(e){return t.showWindows(t.groups,i)}}}),e("div",{directives:[{name:"show",rawName:"v-show",value:"false"===s.judge,expression:"group.judge === 'false'"}],staticClass:"iconfont icon-icon_on_the_top",on:{click:function(e){return t.showWindows(t.groups,i)}}})]),e("div",{staticClass:"icon"},[e("div",{staticClass:"iconfont icon-bianxie",on:{click:function(e){return t.changeGroupName(t.groups,i,s.group_name)}}}),e("div",{staticClass:"iconfont icon-shanchu",on:{click:function(e){return t.isDelG(s.group_id)}}})])]),t._l(t.windows,(function(i,a){return e("li",{directives:[{name:"show",rawName:"v-show",value:s.group_id===i.group_id&&"true"===s.judge,expression:"group.group_id === window.group_id && group.judge === 'true'"}],key:i.chat_window_id,staticClass:"chatName",class:{chatBorder:i.chat_window_id===t.chat_window_id},on:{click:function(e){return t.displayWindow(i.group_id,i.chat_window_id)}}},[e("div",{staticClass:"name"},[e("div",{staticClass:"iconfont icon-duihua"}),e("span",{directives:[{name:"show",rawName:"v-show",value:"true"===i.change_window_name1,expression:"window.change_window_name1 === 'true'"}],staticClass:"group_window__name"},[t._v(t._s(i.chat_window_name))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.newWindowName,expression:"newWindowName"},{name:"show",rawName:"v-show",value:"true"===i.change_window_name2,expression:"window.change_window_name2 === 'true'"}],staticClass:"getBorder",attrs:{type:"text",name:"",id:""},domProps:{value:t.newWindowName},on:{input:function(e){e.target.composing||(t.newWindowName=e.target.value)}}}),e("div",{directives:[{name:"show",rawName:"v-show",value:"true"===i.change_window_name2,expression:"window.change_window_name2 === 'true'"}],staticClass:"yes",on:{click:function(e){return t.chessRenameW()}}},[t._v("√")]),e("div",{directives:[{name:"show",rawName:"v-show",value:"true"===i.change_window_name2,expression:"window.change_window_name2 === 'true'"}],staticClass:"no",on:{click:function(e){return t.noRenameW(t.windows,a)}}},[t._v("×")])]),e("div",{staticClass:"icon"},[e("div",{staticClass:"iconfont icon-bianxie",on:{click:function(e){return t.changeWindowName(t.windows,a,i.chat_window_name)}}}),e("div",{staticClass:"iconfont icon-zhuanyi",on:{click:function(e){return t.changeG(t.windows,a)}}}),e("div",{staticClass:"iconfont icon-shanchu",on:{click:function(e){return t.isDelW(i.chat_window_id)}}})])])}))],2)}))],2),e("div",{staticClass:"right"},[e("div",{staticClass:"rightTop"},[e("span",[t._v("聊天角色选择:")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.flag,expression:"flag"}],attrs:{name:"",id:""},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.flag=e.target.multiple?s:s[0]}}},t._l(t.role_list,(function(s){return e("option",{key:s.role_id,domProps:{value:s.flag}},[t._v(t._s(s.role_name))])})),0)]),e("div",{ref:"myDiv",staticClass:"rightMiddle"},[e("div",{staticClass:"container"},t._l(t.messages,(function(s,i){return e("div",{key:i,staticClass:"message"},[t._v(t._s(s.content))])})),0)]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowContact,expression:"isShowContact"}],staticClass:"contactUsShow"},[e("div",{staticClass:"close",on:{click:function(e){return t.closeContact()}}},[t._v("❎")]),e("div",{staticClass:"contactTitle"},[t._v("联系我们")]),e("div",{staticClass:"contactContent"},[t._v(t._s(t.contactUs))])]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowKnow,expression:"isShowKnow"}],staticClass:"userMustKnowShow"},[e("div",{staticClass:"close",on:{click:function(e){return t.closeMustKnow()}}},[t._v("❎")]),e("div",{staticClass:"userKnowtTitle"},[t._v("《用户须知》")]),e("div",{staticClass:"userKnowContent"},[t._v(t._s(t.userMustKnow))])]),e("div",{directives:[{name:"show",rawName:"v-show",value:""!==t.chat_window_id,expression:"chat_window_id !== ''"}],staticClass:"times"},[t._v("剩余次数："+t._s(t.times_remain)+"/"+t._s(t.times_all))]),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.isClickable,expression:"!isClickable"}],staticClass:"loading"},[t._v("加载中...")]),e("div",{directives:[{name:"show",rawName:"v-show",value:""!==t.chat_window_id,expression:"chat_window_id !== ''"}],staticClass:"rightBottom"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.question,expression:"question"}],attrs:{name:"",id:"",cols:"30",rows:"10",placeholder:"点击输入"},domProps:{value:t.question},on:{input:function(e){e.target.composing||(t.question=e.target.value)}}}),e("div",{staticClass:"iconfont icon-fasong",class:{disable:!t.isClickable},on:{click:function(e){return t.sendQuestion()}}})]),e("div",{staticClass:"information"},[e("div",{staticClass:"contactUs",on:{click:function(e){return t.contact()}}},[t._v("联系我们")]),e("div",{staticClass:"userMustKnow",on:{click:function(e){return t.mustKnow()}}},[t._v("《用户须知》")])]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.newGroup,expression:"newGroup"}],staticClass:"overlay"},[e("div",{staticClass:"setGroupName"},[e("div",[t._v("请输入分组名称")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.group_name,expression:"group_name"}],attrs:{type:"text"},domProps:{value:t.group_name},on:{input:function(e){e.target.composing||(t.group_name=e.target.value)}}}),e("br"),e("div",{staticClass:"chessCancel"},[e("button",{on:{click:function(e){return t.createGroup()}}},[t._v("确定")]),t._v(" "),e("button",{on:{click:function(e){return t.cancel()}}},[t._v("取消")])])])])]),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.advertise_state,expression:"!advertise_state"}],staticClass:"advertisement"},[e("a",{attrs:{href:t.link,target:"_blank"}},[e("img",{attrs:{src:t.advertisementPicture,alt:""}})]),e("div",{staticClass:"closeAdv",on:{click:function(e){return t.closeAdv()}}},[t._v("❎")])]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.changeGroup,expression:"changeGroup"}]},[e("div",{staticClass:"changeTop"},[t._v("请选择您要移动到的分组")]),e("div",{staticClass:"close",on:{click:function(e){return t.close()}}},[t._v("❎")]),e("div",{staticClass:"changeGroup"},t._l(t.groups,(function(s){return e("div",{key:s.group_id,staticClass:"group",on:{click:function(e){return t.chessChange(s.group_id)}}},[t._v(t._s(s.group_name))])})),0)])])},pt=[],mt={name:"ChatInterface",data(){return{llm_type:"0",user_id:this.$route.query.user_id,role_id:"1",flag:"",question:"",isClickable:!0,groups:[],windows:[],role_list:[],messages:[1],newGroup:!1,group_name:"",group_id:"",chat_window_id:"",newGroupName:"",newWindowName:"",changeGroup:!1,times_all:9,times_remain:9,timer:null,contactUs:"12345678910@qq.com",userMustKnow:"用户须知",isShowContact:!1,isShowKnow:!1,advertise_state:!0,advertisementPicture:null,link:"ttps://item.taobao.com/item.htm?spm=a21n57.1.0.0.a1e1523cXSiIwo&id=675229061216&ns=1&abbucket=15#detail",is_limit:!1,isVip:!1}},created(){document.title="聊天-chataaa",this.getInfo(),this.getTimes()},mounted(){this.role_list.length>0&&(this.llm_type=this.role_list[0].role_id),this.timer=setInterval(this.checkOnTheHour,1e3)},beforeDestroy(){clearInterval(this.timer)},methods:{checkOnTheHour(){const t=new Date;0===t.getMinutes()&&0===t.getSeconds()&&this.getTimes()},async getTimes(){const t=await _.Z.get("http://8.134.178.190:5000/user/get_query_times",{params:{user_id:this.user_id}});"400"!==t.data.code?(this.times_all=t.data.all_query_times,this.times_remain=t.data.current_query_times):this.$message.error("获取提问次数失败")},huadong(){this.$nextTick((()=>{const t=this.$refs.myDiv;t.scrollTop=t.scrollHeight}))},async getInfo(){const t=await _.Z.get("http://8.134.178.190:5000/user/chat/get_all_group",{params:{user_id:this.user_id}});this.groups=t.data.data;const e=await _.Z.get("http://8.134.178.190:5000/user/chat/get_all_window",{params:{user_id:this.user_id}});this.windows=e.data.data;const s=await _.Z.get("http://8.134.178.190:5000/administrator/get_company_info");this.contactUs=s.data.data.contact_way,this.userMustKnow=s.data.data.user_agreement;const i=await _.Z.get("http://8.134.178.190:5000/user/get_advertising",{params:{},responseType:"blob"});if("400"===i.data.code)return void this.$message.error("获取图片失败");const a=URL.createObjectURL(i.data);this.advertisementPicture=a;const r=await _.Z.get("http://8.134.178.190:5000/user/chat/get_all_role",{params:{user_id:this.user_id}});this.role_list=r.data.data,this.flag=this.role_list[0].flag,this.role_id=this.role_list[0].role_id,this.llm_type=this.role_list[0].llm_type;const o=await _.Z.get("http://8.134.178.190:5000/user/get_advertise_state",{params:{user_id:this.user_id}});if("400"===o.data.code)return void this.$message.error("获取广告状态失败");this.advertise_state=o.data.advertise_state;const n=await _.Z.get("http://8.134.178.190:5000/administrator/get_url_link");if("400"===n.data.code)return void this.$message.error("获取链接错误");this.link=n.data.data.url;const l=await _.Z.get("http://8.134.178.190:5000/user/get_vip_state",{params:{user_id:this.user_id}});if("400"===l.data.code)return this.$message.error("获取vip身份失败"),void alert("获取vip身份失败");this.isVip=l.data.state;const c=await _.Z.get("http://8.134.178.190:5000/user/is_limit_login",{params:{user_id:this.user_id}});"400"!==c.data.code?(this.is_limit=c.data.is_limit,!0===this.is_limit&&(alert("您已被限制登录"),this.exit())):alert("信息获取失败")},contact(){this.isShowContact=!0},closeContact(){this.isShowContact=!1},mustKnow(){this.isShowKnow=!0},closeMustKnow(){this.isShowKnow=!1},async exit(){const t=await _.Z.post("http://8.134.178.190:5000/login_system/log_out",{user_id:this.user_id});"400"!==t.data.code?(this.cookie.clearCookie("remember_token"),this.cookie.clearCookie("session"),this.cookie.clearCookie("user_id"),this.$router.push("/login_system")):this.$message.error("退出登录失败")},showWindows(t,e){"true"===t[e].judge?t[e].judge="false":t[e].judge="true"},changeGroupName(t,e,s){t[e].change_group_name1="false",t[e].change_group_name2="true",this.newGroupName=s},async chessRenameG(){if(""===this.newGroupName)return void alert("名称不能为空");const t=await _.Z.post("http://8.134.178.190:5000/user/chat/rename_group",{group_id:this.group_id,group_name:this.newGroupName});this.newGroupName="","400"!==t.data.code?this.getInfo():alert("操作失败")},noRenameG(t,e){t[e].change_group_name1="true",t[e].change_group_name2="false"},async delG(t){const e=await _.Z.delete(`http://8.134.178.190:5000/user/chat/delete_group?group_id=${t}`);"400"!==e.data.code?(this.group_id="",this.getInfo()):alert("操作失败")},isDelG(t){const e=window.confirm("删除分组后，该分组下所有窗口也会被删除，确定要删除该分组吗？");e?this.delG(t):console.log("取消删除分组")},changeWindowName(t,e,s){t[e].change_window_name1="false",t[e].change_window_name2="true",this.newWindowName=s},async chessRenameW(){if(""===this.newWindowName)return void alert("名称不能为空");const t=await _.Z.post("http://8.134.178.190:5000/user/chat/rename_window",{chat_window_id:this.chat_window_id,chat_window_name:this.newWindowName});this.newWindowName="","400"!==t.data.code?this.getInfo():alert("操作失败")},noRenameW(t,e){t[e].change_window_name1="true",t[e].change_window_name2="false"},changeG(t,e){!0!==this.changeGroup?(this.chat_window_id=t[e].chat_window_id,this.changeGroup=!0):this.changeGroup=!1},async chessChange(t){const e=await _.Z.post("http://8.134.178.190:5000/user/chat/group_add_window",{chat_window_id:this.chat_window_id,group_id:t});"400"!==e.data.code?(this.getInfo(),this.group_id=t,this.displayWindow(t,this.chat_window_id)):alert("操作失败")},close(){this.changeGroup=!1},async delW(t){const e=await _.Z.delete(`http://8.134.178.190:5000/user/chat/delete_window?chat_window_id=${t}`);"400"!==e.data.code?this.getInfo():alert("操作失败")},isDelW(t){const e=window.confirm("确定要删除该窗口吗？");e?this.delW(t):console.log("取消删除窗口")},async displayWindow(t,e){const s=await _.Z.get("http://8.134.178.190:5000/user/chat/get_recorder",{params:{chat_window_id:e}});this.group_id=t,this.chat_window_id=e,this.messages=s.data.data,this.huadong()},clickNewGroup(){this.newGroup=!0},async createGroup(){if(""===this.group_name)return void alert("分组名称不能为空！");const t=await _.Z.post("http://8.134.178.190:5000/user/chat/new_group",{user_id:this.user_id,group_name:this.group_name});this.newGroup=!1,"400"!==t.data.code?(console.log(t),console.log(t.data.group_id),this.group_id=t.data.group_id,this.getInfo(),this.group_name="",this.displayWindow(this.group_id,this.chat_window_id)):alert("操作失败")},cancel(){this.newGroup=!1},async clickNewChat(){if(""===this.group_id)return void alert("请选中分组后再创建窗口");const t=await _.Z.post("http://8.134.178.190:5000/user/chat/new_chat",{user_id:this.user_id,group_id:this.group_id});"401"===t.data.code&&alert("参数有误"),"400"!==t.data.code?(console.log(t),console.log(t.data.chat_window_id),this.chat_window_id=t.data.chat_window_id,this.getInfo(),this.displayWindow(this.group_id,this.chat_window_id)):alert("创建失败，请重新创建")},chooseGroup(t){this.group_id=t},chooseWindow(t,e){this.group_id=t,this.chat_window_id=e},async sendQuestion(){if(""===this.question.trim())return void alert("输入内容不能为空");this.isClickable=!1;const t=await _.Z.post("http://8.134.178.190:5000/semantic_search/query",{llm_type:this.llm_type,user_id:this.user_id,chat_window_id:this.chat_window_id,role_id:this.role_id,question:this.question});return this.question="","400"===t.data.code?(alert("提问失败"),void(this.isClickable=!0)):(this.displayWindow(this.group_id,this.chat_window_id),this.isClickable=!0,this.times_remain=t.data.current_query_times,"403"===t.data.code?(alert("提问次数已达上限"),void(this.isClickable=!0)):"400"===t.data.code?(alert("使用模型出现问题"),void(this.isClickable=!0)):void 0)},closeAdv(){this.advertise_state=!0},manageRoles(){this.isVip?this.$router.push({path:"/ManageRoles",query:{user_id:this.user_id}}):alert("该功能为VIP用户专享，快去升级会员吧！")},createRoles(){this.isVip?this.$router.push({path:"/createRoles",query:{user_id:this.user_id}}):alert("该功能为VIP用户专享，快去升级会员吧！")},setting(){this.$router.push({path:"/setting",query:{user_id:this.user_id}})}},watch:{flag(t){const e=this.role_list.find((e=>e.flag===t));e&&(this.role_id=e.role_id,this.llm_type=e.llm_type)}}},vt=mt,gt=(0,l.Z)(vt,_t,pt,!1,null,"46efdfac",null),ft=gt.exports,wt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"wrapped"},[e("div",{staticClass:"left"},[e("ul",{staticClass:"leftText"},[e("li",{staticClass:"one",on:{click:function(e){return t.toChat()}}},[t._v("聊天框")]),e("li",{staticClass:"two"},[t._v("角色管理")]),e("li",{staticClass:"three",on:{click:function(e){return t.toCreateRoles()}}},[t._v("新建角色")]),e("li",{staticClass:"four",on:{click:function(e){return t.toSetting()}}},[t._v("设置")]),e("li",{staticClass:"five",on:{click:function(e){return t.exit()}}},[t._v("退出登录")])])]),e("div",{staticClass:"right"},[e("div",{staticClass:"top"},[e("img",{staticClass:"backgroundImg",attrs:{src:s(5665),alt:""}}),e("div",{staticClass:"logo"}),e("img",{staticClass:"logo",attrs:{src:this.user_imgUrl,alt:""}}),e("h4",{staticClass:"nickname"},[t._v(t._s(this.user_name))])]),e("div",{staticClass:"myCollect"},[t._m(0),e("div",{staticClass:"collectContent"},t._l(t.role_list,(function(s,i){return e("div",{directives:[{name:"show",rawName:"v-show",value:s.is_collect,expression:"item.is_collect"}],key:i,staticClass:"item"},[e("span",{staticClass:"roleName",on:{click:function(e){return t.roleInfo(s.role_id,s.is_built_in,s.head_portrait_id)}}},[t._v(t._s(t.formatText(s.role_name)))]),e("span",{staticClass:"collectStar",on:{click:function(e){return t.cancelCollect(s.role_id)}}},[t._v("★")])])})),0)]),e("div",{staticClass:"roleManage"},[t._m(1),e("div",{staticClass:"roleContent"},t._l(t.role_list,(function(s,i){return e("div",{directives:[{name:"show",rawName:"v-show",value:!s.is_collect,expression:"!item.is_collect"}],key:i,staticClass:"item"},[e("span",{staticClass:"roleName",on:{click:function(e){return t.roleInfo(s.role_id,s.is_built_in,s.head_portrait_id)}}},[t._v(t._s(t.formatText(s.role_name)))]),e("span",{directives:[{name:"show",rawName:"v-show",value:!s.is_built_in,expression:"!item.is_built_in"}],staticClass:"star",on:{click:function(e){return t.collectRole(s.role_id)}}},[t._v("★")]),e("span",{directives:[{name:"show",rawName:"v-show",value:!s.is_built_in,expression:"!item.is_built_in"}],staticClass:"delete",on:{click:function(e){return t.open_and_deleteRole(s.role_id)}}},[t._v("x")])])})),0)])])])},Ct=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"collectText"},[e("ul",{staticClass:"collectTextWord"},[e("li",{staticClass:"one"},[t._v("我")]),e("li",{staticClass:"two"},[t._v("的")]),e("li",{staticClass:"three"},[t._v("收")]),e("li",{staticClass:"four"},[t._v("藏")])])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"roleText"},[e("ul",{staticClass:"roleTextWord"},[e("li",{staticClass:"one"},[t._v("角")]),e("li",{staticClass:"two"},[t._v("色")]),e("li",{staticClass:"three"},[t._v("管")]),e("li",{staticClass:"four"},[t._v("理")])])])}],yt={data(){return{role_list:[],user_id:this.$route.query.user_id,delete_role_id:"",user_name:"",user_imgUrl:""}},created(){document.title="管理角色-chataaa",this.getInfo()},methods:{async getInfo(){const t=await _.Z.get("http://8.134.178.190:5000/vip_user/get_roles",{params:{user_id:this.user_id}});if("400"===t.data.code)return void this.$message.error("获取角色失败！");this.role_list=t.data.data,this.user_name=t.data.nickname;const e=t.data.head_portrait_id,s=await _.Z.get("http://8.134.178.190:5000//vip_user/get_role_head_portrait",{params:{head_portrait_id:e},responseType:"blob"});"400"!==t.data.code?this.user_imgUrl=URL.createObjectURL(s.data):this.$message.error("获取头像失败！")},async roleInfo(t,e,s){this.$router.push({path:"/RoleInformation",query:{user_id:this.user_id,role_id:t,is_built_in:e,head_portrait_id:s}})},formatText(t){return t.length>5?`${t.slice(0,5)}...`:t},toChat(){this.$router.push({path:"/chatInterface",query:{user_id:this.user_id}})},toCreateRoles(){this.$router.push({path:"/CreateRoles",query:{user_id:this.user_id}})},toSetting(){this.$router.push({path:"/Setting",query:{user_id:this.user_id}})},async exit(){const t=await _.Z.post("http://8.134.178.190:5000/login_system/log_out",{user_id:this.user_id});"400"!==t.data.code?(this.cookie.clearCookie("remember_token"),this.cookie.clearCookie("session"),this.cookie.clearCookie("user_id"),this.$router.push("/login_system")):this.$message.error("退出登录失败")},async collectRole(t){const e=await _.Z.post("http://8.134.178.190:5000//vip_user/collect_role",{role_id:t});"400"!==e.data.code?(console.log(e),this.getInfo()):this.$message.error("收藏角色失败！")},open_and_deleteRole(t){this.delete_role_id=t,this.open()},open(){this.$confirm("此操作将永久删除该角色, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{this.$message({type:"success",message:"删除成功!"}),this.deleteRole(this.delete_role_id)})).catch((()=>{this.$message({type:"info",message:"已取消删除"})}))},async deleteRole(t){const e=await _.Z.post("http://8.134.178.190:5000//vip_user/delete_user_role",{role_id:t});"400"!==e.data.code&&"401"!==e.data.code?(this.delete_role_id="",this.getInfo()):this.$message.error("删除角色失败！")},async cancelCollect(t){const e=await _.Z.post("http://8.134.178.190:5000//vip_user/cancel_collect",{role_id:t});"400"!==e.data.code?this.getInfo():this.$message.error("取消收藏角色失败！")}}},kt=yt,At=(0,l.Z)(kt,wt,Ct,!1,null,"41a9800d",null),xt=At.exports,bt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"wrapped"},[e("div",{staticClass:"left"},[e("ul",{staticClass:"leftText"},[e("li",{staticClass:"one",on:{click:function(e){return t.toChat()}}},[t._v("聊天框")]),e("li",{staticClass:"two"},[t._v("角色管理")]),e("li",{staticClass:"three",on:{click:function(e){return t.toCreateRoles()}}},[t._v("新建角色")]),e("li",{staticClass:"four",on:{click:function(e){return t.toSetting()}}},[t._v("设置")]),e("li",{staticClass:"five",on:{click:function(e){return t.exit()}}},[t._v("退出登录")])])]),e("div",{staticClass:"right"},[e("div",{staticClass:"box"},[t._m(0),e("div",{staticClass:"tbody"},[e("div",{staticClass:"PictureAndName"},[e("img",{attrs:{src:t.imgUrl,alt:""}}),e("h4",[t._v(t._s(t.role_info.role_name))])]),e("h4",{staticClass:"roledescription"},[t._v("角色描述："+t._s(t.role_info.description))]),e("div",{staticClass:"prompt"},[e("h4",[t._v("提示词prompt")]),e("div",{staticClass:"content"},[e("span",[t._v("      "+t._s(t.role_info.prompt?t.role_info.prompt:"(当前角色没有提示词)")+" ")])])]),e("h4",{staticClass:"ability"},[t._v("发散能力："+t._s(t.role_info.divergency))]),e("h4",{staticClass:"model"},[t._v("使用模型："+t._s(t.role_info.module_name))]),e("div",{staticClass:"return",on:{click:function(e){return t.backToManage()}}},[e("span",[t._v("返 回")])])])])])])},It=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"top"},[e("h2",[t._v("角色信息")])])}],Dt={data(){return{role_info:"",user_id:this.$route.query.user_id,role_id:this.$route.query.role_id,is_built_in:this.$route.query.is_built_in,imgUrl:"",head_portrait_id:this.$route.query.head_portrait_id,is_limit:!1}},async created(){document.title="角色信息-chataaa",this.getInfo();const t=await _.Z.get("http://8.134.178.190:5000/user/is_limit_login",{params:{user_id:this.user_id}});"400"!==t.data.code?(this.is_limit=t.data.is_limit,!0===this.is_limit&&(alert("您已被限制登录"),this.exit())):alert("信息获取失败")},methods:{backToManage(){this.$router.push({path:"/ManageRoles",query:{user_id:this.user_id}})},toChat(){this.$router.push({path:"/chatInterface",query:{user_id:this.user_id}})},toCreateRoles(){this.$router.push({path:"/CreateRoles",query:{user_id:this.user_id}})},toSetting(){this.$router.push({path:"/Setting",query:{user_id:this.user_id}})},async exit(){const t=await _.Z.post("http://8.134.178.190:5000/login_system/log_out",{user_id:this.user_id});"400"!==t.data.code?(this.cookie.clearCookie("remember_token"),this.cookie.clearCookie("session"),this.cookie.clearCookie("user_id"),this.$router.push("/login_system")):this.$message.error("退出登录失败")},async getInfo(){const t=await _.Z.get("http://8.134.178.190:5000//vip_user/get_role_information",{params:{role_id:this.role_id,is_built_in:this.is_built_in}});if("400"===t.data.code)return void this.$message.error("获取角色信息失败！");this.role_info=t.data.data,console.log(this.role_info);const e=await _.Z.get("http://8.134.178.190:5000//vip_user/get_role_head_portrait",{params:{head_portrait_id:this.head_portrait_id},responseType:"blob"});"400"!==e.data.code?(this.imgUrl=URL.createObjectURL(e.data),console.log(this.imgUrl)):this.$message.error("获取头像信息失败！")}}},Mt=Dt,Pt=(0,l.Z)(Mt,bt,It,!1,null,"562c92dd",null),Vt=Pt.exports,Yt=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"wrapped-cr",attrs:{"element-loading-text":"上传资料中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[e("div",{staticClass:"left"},[e("ul",{staticClass:"leftText"},[e("li",{staticClass:"one"},[t._v("修改角色")]),e("li",{staticClass:"two",on:{click:function(e){return t.toCreateInnerRoles()}}},[t._v("新增角色")]),e("li",{staticClass:"three",on:{click:function(e){return t.exit()}}},[t._v("退出登录")])])]),e("div",{staticClass:"right"},[e("div",{staticClass:"top-cr"},[e("h2",[t._v("内置角色列表")]),e("el-button",{staticClass:"changeKey",attrs:{type:"text"},on:{click:t.open}},[t._v("修改API密钥")])],1),e("div",{staticClass:"roleTable"},[e("table",[t._m(0),e("tbody",t._l(t.role_log,(function(s,i){return e("tr",{key:i},[t._l(t.pictures,(function(t,s){return e("td",{directives:[{name:"show",rawName:"v-show",value:i===s,expression:"index1 === index2"}],key:s,staticClass:"imgWrapped"},[e("img",{attrs:{src:t,alt:""}})])})),e("td",[t._v(t._s(s.role_name))]),e("td",[t._v(t._s(t.formatText(s.description)))]),e("td",[e("button",{staticClass:"change",on:{click:function(e){return t.modifyRole(s.role_id)}}},[t._v("修改角色")]),e("input",{ref:"fileInput_"+i,refInFor:!0,staticStyle:{display:"none"},attrs:{type:"file",accept:".txt"},on:{change:function(e){return t.handleFileUpload(i,s.role_id)}}}),e("button",{staticClass:"uoload",class:{"disabled-button":!s.have_document_store},attrs:{disabled:!s.have_document_store},on:{click:function(e){return t.selectAndUploadFile(i)}}},[t._v("上传资料")])])],2)})),0)])])])])},Nt=[function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",{staticStyle:{width:"320px"}},[t._v("头像")]),e("th",{staticStyle:{width:"320px"}},[t._v("名称")]),e("th",{staticStyle:{width:"320px"}},[t._v("描述")]),e("th",{staticStyle:{width:"400px"}},[t._v("操作")])])])}],Wt={name:"ChangeRole",data(){return{role_log:[],user_id:this.$route.query.user_id,text:"的海外的合法大大覅哈哈爱上的人发放时aaa",pictures:[],role_id:[],file:null,selectedFile:null,file_get:"",file_show:"",loading:!1,loginname:""}},created(){document.title="内置角色列表-chataaa",this.getInfo()},mounted(){this.loginname=this.cookie.getCookie("LoginName")},methods:{toCreateInnerRoles(){this.$router.push({path:"/CreateInnerRoles",query:{user_id:this.user_id}})},async exit(){const t=await _.Z.post("http://8.134.178.190:5000/login_system/log_out",{user_id:this.user_id});"400"!==t.data.code?(this.cookie.clearCookie("remember_token"),this.cookie.clearCookie("session"),this.cookie.clearCookie("user_id"),this.$router.push("/login_system")):this.$message.error("退出登录失败")},selectAndUploadFile(t){this.$refs["fileInput_"+t][0].click()},handleFileUpload(t,e){const s=this.$refs["fileInput_"+t][0].files[0];s&&"text/plain"===s.type?(this.uploadFile(s,e),this.$refs["fileInput_"+t][0].value=""):this.$message({message:"请选择一个 .txt 文件",type:"warning"})},async uploadFile(t,e){let s=new FormData;s.append("files",t),s.append("role_id",e),this.loading=!0;const i=await _.Z.post("http://8.134.178.190:5000//builtin_role_administrator/add_role_store",s);this.loading=!1,"200"===i.data.code?this.$message({message:"上传成功！",type:"success"}):"400"!==i.data.code&&"401"!==i.data.code||this.$message.error("上传失败！")},formatText(t){return t.length>18?`${t.slice(0,18)}...`:t},async getInfo(){const t=await _.Z.get("http://8.134.178.190:5000/builtin_role_administrator/information/get_role_information",{params:{user_id:"000000"}});this.role_log=t.data.data,this.getPictures(this.role_log)},async getPictures(t){this.pictures=[];let e=t.length;for(let s=0;s<e;s++){const e=await _.Z.get("http://8.134.178.190:5000/builtin_role_administrator/information/get_role_head_portrait",{params:{role_id:t[s].role_id,user_id:"000000"},responseType:"blob"});"400"===e.data.code&&this.$message.error("获取头像失败！");const i=URL.createObjectURL(e.data);this.pictures.push(i)}},async modifyRole(t){this.$router.push({path:"/ModifyRole",query:{user_id:this.user_id,role_id:t}})},async sendAPI(t){const e=await _.Z.get("http://8.134.178.190:5000//builtin_role_administrator/information/write_openai_api_key",{params:{openai_api_key:t}});"200"===e.data.code?this.$message({message:"上传成功！",type:"success"}):"400"===e.data.code&&this.$message.error("上传失败！")},open(){this.$prompt("请输入API密钥","提示",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/^sk-[a-zA-Z0-9]+$/,inputErrorMessage:"API密钥格式不正确"}).then((({value:t})=>{this.$message({type:"success",message:"你的API密钥是: "+t}),this.sendAPI(t)})).catch((()=>{this.$message({type:"info",message:"取消输入"})}))}}},qt=Wt,Tt=(0,l.Z)(qt,Yt,Nt,!1,null,"28d096ba",null),Ut=Tt.exports,Zt=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"wrapped",attrs:{"element-loading-text":"修改角色中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[e("div",{staticClass:"left"},[e("ul",{staticClass:"leftText"},[e("li",{staticClass:"one"},[t._v("修改角色")]),e("li",{staticClass:"two",on:{click:function(e){return t.toCreateInnerRoles()}}},[t._v("新增角色")]),e("li",{staticClass:"three",on:{click:function(e){return t.exit()}}},[t._v("退出登录")])])]),e("div",{staticClass:"right"},[t.isModifying?e("div",{staticClass:"modifying"},[e("div",{staticClass:"title"},[t._v("修改角色")]),e("div",{staticClass:"prompt"},[t._v("提示词")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.prompt,expression:"prompt"}],attrs:{name:"",id:"",cols:"30",rows:"10",placeholder:t.role_info.prompt?t.role_info.prompt:"(当前角色没有提示词)"},domProps:{value:t.prompt},on:{input:function(e){e.target.composing||(t.prompt=e.target.value)}}}),e("input",{ref:"pictureInput",staticStyle:{display:"none"},attrs:{type:"file"},on:{change:t.handlePictureChange}}),e("div",{staticClass:"head_text"},[t._v("角色头像：")]),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.isModify,expression:"!isModify"}],staticClass:"head_picture",on:{click:function(e){return t.triggerPictureInput()}}},[t._v("＋")]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isModify,expression:"isModify"}],staticClass:"show_picture",on:{click:function(e){return t.triggerPictureInput()}}},[e("img",{attrs:{src:t.picture_show,alt:""}})]),e("div",{staticClass:"name"},[t._v("角色名称：")]),e("el-input",{staticClass:"nameInput",attrs:{type:"text",placeholder:t.role_info.role_name,maxlength:"25","show-word-limit":""},model:{value:t.role_name,callback:function(e){t.role_name=e},expression:"role_name"}}),e("div",{staticClass:"describe"},[t._v("角色描述：")]),e("el-input",{staticClass:"describeInput",attrs:{type:"text",placeholder:t.role_info.description,maxlength:"25","show-word-limit":""},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}}),e("div",{staticClass:"divergence"},[t._v("发散能力：")]),t._m(0),e("div",{staticClass:"model"},[t._v("使用模型：")]),t._m(1),e("button",{staticClass:"modify",on:{click:function(e){return t.open_and_saveChange()}}},[t._v("保存")]),e("button",{staticClass:"return",on:{click:function(e){return t.returnDisplay()}}},[t._v("返回")]),e("div",{staticClass:"show_file"},[t._v(t._s(t.file_show))])],1):e("div",{staticClass:"display"},[e("div",{staticClass:"title"},[t._v("角色详细信息")]),e("div",{staticClass:"prompt"},[t._v("提示词")]),e("div",{staticClass:"tarea"},[e("span",[t._v("      "+t._s(t.role_info.prompt?t.role_info.prompt:"(当前角色没有提示词)"))])]),e("input",{ref:"pictureInput",staticStyle:{display:"none"},attrs:{type:"file"},on:{change:t.handlePictureChange}}),e("div",{staticClass:"head_text"},[t._v("角色头像：")]),e("div",{staticClass:"show_picture"},[e("img",{attrs:{src:t.imgUrl,alt:""}})]),e("div",{staticClass:"name"},[t._v("角色名称："),e("span",[t._v(t._s(t.role_info.role_name))])]),e("div",{staticClass:"describe"},[t._v("角色描述："),e("span",[t._v(t._s(t.role_info.description))])]),t._m(2),t._m(3),e("button",{staticClass:"save",on:{click:function(e){return t.change()}}},[t._v("修改")]),e("button",{staticClass:"return",on:{click:function(e){return t.returnChangeRole()}}},[t._v("返回")]),e("div",{staticClass:"show_file"},[t._v(t._s(t.file_show))])])])])},St=[function(){var t=this,e=t._self._c;return e("select",{staticClass:"divergenceSelect",attrs:{name:"",id:""}},[e("option",{attrs:{selected:"",disabled:""}},[t._v("1.0")])])},function(){var t=this,e=t._self._c;return e("select",{staticClass:"modelSelect",attrs:{name:"",id:""}},[e("option",{attrs:{selected:"",disabled:""}},[t._v("ChatGpt3.5")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"divergence"},[t._v("发散能力："),e("span",[t._v("1.0")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"model"},[t._v("使用模型："),e("span",[t._v("ChatGpt3.5")])])}],Ft={name:"ModifyRoles",data(){return{user_id:this.$route.query.user_id,role_id:this.$route.query.role_id,role_info:"",imgUrl:"",prompt:"",role_name:"",description:"",temp_imgUrl:"",temp_prompt:"",temp_role_name:"",temp_description:"",isModifying:!1,isModify:!1,picture_get:null,picture_show:null,file:null,file_show:null,loading:!1}},created(){document.title="修改角色-chataaa",this.getInfo()},methods:{toCreateInnerRoles(){this.$router.push({path:"/CreateInnerRoles",query:{user_id:this.user_id}})},returnChangeRole(){this.$router.push({path:"/ChangeRole",query:{user_id:this.user_id}})},async exit(){const t=await _.Z.post("http://8.134.178.190:5000/login_system/log_out",{user_id:this.user_id});"400"!==t.data.code?(this.cookie.clearCookie("remember_token"),this.cookie.clearCookie("session"),this.cookie.clearCookie("user_id"),this.$router.push("/login_system")):this.$message.error("退出登录失败")},async getInfo(){const t=await _.Z.get("http://8.134.178.190:5000///builtin_role_administrator/information/get_role_information_detail",{params:{user_id:"000000",role_id:this.role_id}});"400"===t.data.code&&this.$message.error("获取数据失败！"),this.role_info=t.data,this.getPictures(this.role_id),this.getInputValue(this.role_info)},async getPictures(t){const e=await _.Z.get("http://8.134.178.190:5000/builtin_role_administrator/information/get_role_head_portrait",{params:{role_id:t,user_id:"000000"},responseType:"blob"});"400"===e.data.code&&this.$message.error("获取头像失败！"),this.imgUrl=URL.createObjectURL(e.data)},getInputValue(t){this.prompt=t.prompt,this.role_name=t.role_name,this.description=t.description},triggerPictureInput(){this.$refs.pictureInput.click()},handlePictureChange(t){const e=t.target.files[0];e&&e.type.startsWith("image/")?(this.picture_get=e,this.picture_show=URL.createObjectURL(this.picture_get),this.isModify=!0):(alert("请选择图片文件"),t.target.value=null)},triggerFileInput(){this.$refs.fileInput.click()},handleFileChange(t){this.file=t.target.files[0],this.file_show=this.file?this.file.name:null},change(){this.isModifying=!0,this.temp_imgUrl=this.imgUrl,this.temp_prompt=this.prompt,this.temp_role_name=this.role_name,this.temp_description=this.description},open_and_saveChange(){this.open()},open(){this.$confirm("此操作将永久修改该内置角色, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{this.saveChange()})).catch((()=>{this.$message({type:"info",message:"已取消修改"})}))},async saveChange(){if(""===this.role_name.trim())return void this.$message({message:"请输入角色名称！",type:"warning"});if(""===this.description.trim())return void this.$message({message:"请输入角色描述！",type:"warning"});this.isModify=!1,this.temp_imgUrl=this.imgUrl,this.temp_prompt=this.prompt,this.temp_role_name=this.role_name,this.temp_description=this.description;let t=new FormData;t.append("head_portrait",this.picture_get),t.append("user_id","000000"),t.append("role_id",this.role_id),t.append("role_name",this.role_name),t.append("description",this.description),t.append("prompt",this.prompt),this.loading=!0;const e=await _.Z.post("http://8.134.178.190:5000/builtin_role_administrator/edit_role_attribute",t);this.loading=!1,"200"===e.data.code?this.$message({message:"修改成功！",type:"success"}):"400"===e.data.code||"401"===e.data.code||"402"===e.data.code?this.$message.error("修改失败！"):"403"===e.data.code&&this.$message.error("角色头像图片格式不符合要求！"),this.getInfo(),this.file_show1=this.file_show2,this.isCloseShow=this.isClose,this.isModifying=!1},returnDisplay(){this.isModifying=!1,this.isModify=!1,this.imgUrl=this.temp_imgUrl,this.prompt=this.temp_prompt,this.role_name=this.temp_role_name,this.description=this.temp_description,this.getInfo()}}},Rt=Ft,$t=(0,l.Z)(Rt,Zt,St,!1,null,"62dd11b6",null),jt=$t.exports,Bt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"wrapped"},[e("div",{staticClass:"left"},[e("ul",{staticClass:"leftText"},[e("li",{staticClass:"one",on:{click:function(e){return t.toChat()}}},[t._v("聊天框")]),e("li",{staticClass:"two",on:{click:function(e){return t.manageRoles()}}},[t._v("角色管理")]),e("li",{staticClass:"three"},[t._v("新建角色")]),e("li",{staticClass:"four",on:{click:function(e){return t.setting()}}},[t._v("设置")]),e("li",{staticClass:"five",on:{click:function(e){return t.exit()}}},[t._v("退出登录")])])]),e("div",{staticClass:"right"},[e("div",{staticClass:"main"},[e("div",{staticClass:"title"},[t._v("创建角色")]),e("div",{staticClass:"prompt"},[t._v("提示词")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.prompt,expression:"prompt"}],attrs:{name:"",id:"",cols:"30",rows:"10",placeholder:"    我想要让你作为一位杰出的律师。您将在法律领域展现您的才能，为人们提供准确、明晰的法律建议。您可以选择专攻领域，如刑法、民法、商法等，但您的目标是成为一位擅长处理各类法律问题、具备卓越法律洞察力的律师。"},domProps:{value:t.prompt},on:{input:function(e){e.target.composing||(t.prompt=e.target.value)}}}),e("input",{ref:"pictureInput",staticStyle:{display:"none"},attrs:{type:"file"},on:{change:t.handlePictureChange}}),e("div",{staticClass:"head_text"},[t._v("角色头像：")]),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.isModify,expression:"!isModify"}],staticClass:"head_picture",on:{click:function(e){return t.triggerPictureInput()}}},[t._v("＋")]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isModify,expression:"isModify"}],staticClass:"show_picture",on:{click:function(e){return t.triggerPictureInput()}}},[e("img",{attrs:{src:t.picture_show,alt:""}})]),e("div",{staticClass:"name"},[t._v("角色名称：")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.role_name,expression:"role_name"}],staticClass:"nameInput",attrs:{type:"text",placeholder:"请输入角色名称"},domProps:{value:t.role_name},on:{input:[function(e){e.target.composing||(t.role_name=e.target.value)},t.name_input]}}),e("span",{staticClass:"name_length"},[t._v(t._s(t.name_length)+"/25")]),e("div",{staticClass:"describe"},[t._v("角色描述：")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],staticClass:"describeInput",attrs:{type:"text",placeholder:"请输入对创建角色的描述"},domProps:{value:t.description},on:{input:[function(e){e.target.composing||(t.description=e.target.value)},t.description_input]}}),e("span",{staticClass:"description_length"},[t._v(t._s(t.description_length)+"/25")]),e("div",{staticClass:"divergence"},[t._v("发散能力：")]),t._m(0),e("div",{staticClass:"model"},[t._v("使用模型：")]),t._m(1),e("div",{staticClass:"AI"},[t._v("AI资料库：")]),e("input",{ref:"fileInput",staticStyle:{display:"none"},attrs:{type:"file",accept:".txt"},on:{change:t.handleFileChange}}),e("button",{staticClass:"AIupload",on:{click:function(e){return t.triggerFileInput()}}},[t._v("上传资料")]),e("button",{staticClass:"create",class:{disable:!t.isClickable},on:{click:function(e){return t.create()}}},[t._v("创建角色")]),e("div",{staticClass:"show_file"},[t._v(t._s(t.file_show))])])])])},zt=[function(){var t=this,e=t._self._c;return e("select",{staticClass:"divergenceSelect",attrs:{name:"",id:""}},[e("option",{attrs:{selected:"",disabled:""}},[t._v("1.0")])])},function(){var t=this,e=t._self._c;return e("select",{staticClass:"modelSelect",attrs:{name:"",id:""}},[e("option",{attrs:{selected:"",disabled:""}},[t._v("ChatGpt3.5")])])}],Gt={name:"CreateRoles",data(){return{user_id:this.$route.query.user_id,isModify:!1,prompt:"",role_name:"",description:"",picture_get:"",picture_show:"",file_get:"",file_show:"",name_length:0,description_length:0,isClickable:!0,is_limit:!1,isVip:!1}},async created(){document.title="创建角色-chataaa";const t=await _.Z.get("http://8.134.178.190:5000/user/get_vip_state",{params:{user_id:this.user_id}});if("400"===t.data.code)return void alert("获取vip身份失败");this.isVip=t.data.state;const e=await _.Z.get("http://8.134.178.190:5000/user/is_limit_login",{params:{user_id:this.user_id}});"400"!==e.data.code?(this.is_limit=e.data.is_limit,!0===this.is_limit&&(alert("您已被限制登录"),this.exit())):alert("信息获取失败")},methods:{triggerPictureInput(){this.$refs.pictureInput.click()},handlePictureChange(t){const e=t.target.files[0];e&&e.type.startsWith("image/")?(this.picture_get=e,this.picture_show=URL.createObjectURL(this.picture_get),this.isModify=!0):(alert("请选择图片文件"),t.target.value=null)},triggerFileInput(){this.$refs.fileInput.click()},handleFileChange(t){const e=t.target.files[0];e&&this.isTxtFile(e)?(this.file_get=t.target.files[0],this.file_show=this.file_get?this.file_get.name:null):alert("请上传txt文件")},isTxtFile(t){return"text/plain"===t.type},name_input(){this.name_length=this.role_name.length,this.name_length>25&&(this.role_name=this.role_name.slice(0,25),this.name_length=25)},description_input(){this.description_length=this.description.length,this.description_length>25&&(this.description=this.description.slice(0,25),this.description_length=25)},async create(){if(""===this.prompt.trim())return void alert("请输入提示词！");if(""===this.picture_show)return void alert("请上传角色头像！");if(""===this.role_name.trim())return void alert("请输入角色名称！");if(""===this.description.trim())return void alert("请输入角色描述！");if(""===this.file_show)return void alert("请上传资料！");this.isClickable=!1;let t=new FormData;t.append("user_id",this.user_id),t.append("role_name",this.role_name),t.append("description",this.description),t.append("prompt",this.prompt),t.append("head_portrait",this.picture_get),t.append("files",this.file_get);const e=await _.Z.post("http://8.134.178.190:5000/vip_user/create_user_role",t);console.log(e),"200"===e.data.code?alert("创建成功！"):alert("创建失败！"),this.isClickable=!0,this.role_name="",this.description="",this.prompt="",this.picture_get=null,this.picture_show=null,this.file_get=null,this.file_show=null,this.isModify=!1},toChat(){this.$router.push({path:"/chatInterface",query:{user_id:this.user_id}})},manageRoles(){this.isVip?this.$router.push({path:"/ManageRoles",query:{user_id:this.user_id}}):alert("该功能为VIP用户专享，快去升级会员吧！")},setting(){this.$router.push({path:"/setting",query:{user_id:this.user_id}})},async exit(){const t=await _.Z.post("http://8.134.178.190:5000/login_system/log_out",{user_id:this.user_id});"400"!==t.data.code?(this.cookie.clearCookie("remember_token"),this.cookie.clearCookie("session"),this.cookie.clearCookie("user_id"),this.$router.push("/login_system")):this.$message.error("退出登录失败")}}},Ot=Gt,Qt=(0,l.Z)(Ot,Bt,zt,!1,null,"6c375f15",null),Et=Qt.exports,Lt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"wrapped"},[e("div",{staticClass:"left"},[e("ul",{staticClass:"leftText"},[e("li",{staticClass:"one",on:{click:function(e){return t.setInfo()}}},[t._v("信息设置")]),e("li",{staticClass:"two",on:{click:function(e){return t.manageUsers()}}},[t._v("用户管理")]),e("li",{staticClass:"three",on:{click:function(e){return t.seeInfo()}}},[t._v("查看信息")]),e("li",{staticClass:"four",on:{click:function(e){return t.feedback()}}},[t._v("用户反馈")]),e("li",{staticClass:"five",on:{click:function(e){return t.exit()}}},[t._v("退出登录")])])]),e("div",{staticClass:"middle"},[e("div",{staticClass:"middleSeeing"},[t._v("查看信息")]),e("div",{staticClass:"seeingTop",on:{click:function(e){return t.toInfo()}}},[t._v("日志信息")]),e("div",{staticClass:"seeingTop active"},[t._v("会员充值信息")])]),e("div",{staticClass:"right"},[e("div",{staticClass:"rightTop"},[t._v("会员充值订单")]),e("div",{staticClass:"dateBegin"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedYear1,expression:"selectedYear1"}],attrs:{id:"year"},on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedYear1=e.target.multiple?s:s[0]},t.updateMonths1]}},t._l(t.availableYears1,(function(s){return e("option",{key:s,domProps:{value:s}},[t._v(t._s(s))])})),0),e("label",{attrs:{for:"year"}},[t._v(" 年 ")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedMonth1,expression:"selectedMonth1"}],attrs:{id:"month"},on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedMonth1=e.target.multiple?s:s[0]},t.updateDays1]}},t._l(t.availableMonths1,(function(s){return e("option",{key:s,domProps:{value:s}},[t._v(t._s(s))])})),0),e("label",{attrs:{for:"month"}},[t._v(" 月 ")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedDay1,expression:"selectedDay1"}],attrs:{id:"day"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedDay1=e.target.multiple?s:s[0]}}},t._l(t.availableDays1,(function(s){return e("option",{key:s,domProps:{value:s}},[t._v(t._s(s))])})),0),e("label",{attrs:{for:"day"}},[t._v(" 日 ")])]),e("div",{staticClass:"transition"},[t._v("————")]),e("div",{staticClass:"dateEnd"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedYear2,expression:"selectedYear2"}],attrs:{id:"year"},on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedYear2=e.target.multiple?s:s[0]},t.updateMonths2]}},t._l(t.availableYears2,(function(s){return e("option",{key:s,domProps:{value:s}},[t._v(t._s(s))])})),0),e("label",{attrs:{for:"year"}},[t._v(" 年 ")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedMonth2,expression:"selectedMonth2"}],attrs:{id:"month"},on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedMonth2=e.target.multiple?s:s[0]},t.updateDays2]}},t._l(t.availableMonths2,(function(s){return e("option",{key:s,domProps:{value:s}},[t._v(t._s(s))])})),0),e("label",{attrs:{for:"month"}},[t._v(" 月 ")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedDay2,expression:"selectedDay2"}],attrs:{id:"day"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedDay2=e.target.multiple?s:s[0]}}},t._l(t.availableDays2,(function(s){return e("option",{key:s,domProps:{value:s}},[t._v(t._s(s))])})),0),e("label",{attrs:{for:"day"}},[t._v(" 日 ")])]),e("button",{staticClass:"query",on:{click:function(e){return t.query()}}},[t._v("查询")]),e("button",{staticClass:"showAll",on:{click:function(e){return t.showAll()}}},[t._v("显示全部")]),e("div",{staticClass:"rightMain"},[e("table",[t._m(0),t._l(t.orders,(function(s,i){return e("tr",{key:i},[e("td",[t._v(t._s(s.mail_account))]),e("td",[t._v(t._s(s.order_time))]),e("td",[t._v(t._s(s.type))]),e("td",[t._v(t._s(s.price))])])}))],2)]),e("button",{staticClass:"export",on:{click:function(e){return t.downloadCSV1()}}},[t._v("导出数据")])])])},Xt=[function(){var t=this,e=t._self._c;return e("tr",[e("th",[t._v("邮箱")]),e("th",[t._v("日期时间")]),e("th",[t._v("充值类型")]),e("th",[t._v("充值金额")])])}],Ht={name:"OrdersInformation",data(){return{user_id:this.$route.query.user_id,selectedYear1:"",selectedMonth1:"",selectedDay1:"",availableYears1:[],availableMonths1:[],availableDays1:[],selectedYear2:"",selectedMonth2:"",selectedDay2:"",availableYears2:[],availableMonths2:[],availableDays2:[],orders:[]}},async created(){document.title="查看订单-chataaa",this.getInfo()},mounted(){this.updateYears1(),this.updateMonths1(),this.updateDays1(),this.updateYears2(),this.updateMonths2(),this.updateDays2()},methods:{async getInfo(){const t=await _.Z.get("http://8.134.178.190:5000/administrator/check_order");this.orders=t.data.data},updateYears1(){const t=(new Date).getFullYear();for(let e=2023;e<=t;e++)this.availableYears1.push(e)},updateMonths1(){const t=Array.from({length:12},((t,e)=>e+1));this.availableMonths1=t,this.selectedMonth1="",this.updateDays1()},updateDays1(){const t=parseInt(this.selectedYear1),e=parseInt(this.selectedMonth1),s=new Date(t,e,0).getDate(),i=Array.from({length:s},((t,e)=>e+1));this.availableDays1=i,parseInt(this.selectedDay1)>s&&(this.selectedDay1="")},updateYears2(){const t=(new Date).getFullYear();for(let e=2023;e<=t;e++)this.availableYears2.push(e)},updateMonths2(){const t=Array.from({length:12},((t,e)=>e+1));this.availableMonths2=t,this.selectedMonth2="",this.updateDays2()},updateDays2(){const t=parseInt(this.selectedYear2),e=parseInt(this.selectedMonth2),s=new Date(t,e,0).getDate(),i=Array.from({length:s},((t,e)=>e+1));this.availableDays2=i,parseInt(this.selectedDay2)>s&&(this.selectedDay2="")},formatDate(t,e,s){const i=String(e).padStart(2,"0"),a=String(s).padStart(2,"0");return`${t}-${i}-${a}`},async query(){if(this.selectedYear1>this.selectedYear2&&""!==this.selectedYear1&&""!==this.selectedYear2)alert("请输入正确的时间区间！");else if(this.selectedYear1===this.selectedYear2&&this.selectedMonth1>this.selectedMonth2)alert("请输入正确的时间区间！");else if(this.selectedYear1===this.selectedYear2&&this.selectedMonth1===this.selectedMonth2&&this.selectedDay1>this.selectedDay2)alert("请输入正确的时间区间！");else if(""!==this.selectedYear1&&""!==this.selectedMonth1&&""!==this.selectedDay1&&""!==this.selectedYear2&&""!==this.selectedMonth2&&""!==this.selectedDay2){const t=this.formatDate(this.selectedYear1,this.selectedMonth1,this.selectedDay1),e=this.formatDate(this.selectedYear2,this.selectedMonth2,this.selectedDay2),s=await _.Z.get("http://8.134.178.190:5000/administrator/check_order",{params:{start_date:t,end_date:e}});this.orders=s.data.data}else if(""===this.selectedYear1&&""===this.selectedMonth1&&""===this.selectedDay1&&""!==this.selectedYear2&&""!==this.selectedMonth2&&""!==this.selectedDay2){const t=this.formatDate(this.selectedYear2,this.selectedMonth2,this.selectedDay2),e=await _.Z.get("http://8.134.178.190:5000/administrator/check_order",{params:{end_date:t}});this.orders=e.data.data}else{if(""===this.selectedYear1||""===this.selectedMonth1||""===this.selectedDay1||""!==this.selectedYear2||""!==this.selectedMonth2||""!==this.selectedDay2)return void alert("请输入正确的时间区间！");{const t=this.formatDate(this.selectedYear1,this.selectedMonth1,this.selectedDay1),e=await _.Z.get("http://8.134.178.190:5000/administrator/check_order",{params:{start_date:t}});this.orders=e.data.data}}},showAll(){this.getInfo(),this.selectedYear1="",this.selectedYear2="",this.selectedMonth1="",this.selectedMonth2="",this.selectedDay1="",this.selectedDay2=""},downloadCSV1(){const t=this.convertToCSV(this.orders),e=new Blob([t],{type:"text/csv;charset=utf-8"});(0,st.saveAs)(e,"order_information.csv")},convertToCSV(t){const e=Object.keys(t[0]).join(","),s=t.map((t=>Object.values(t).join(",")));return`${e}\n${s.join("\n")}`},toInfo(){this.$router.push({path:"/seeInformation",query:{user_id:this.user_id}})},setInfo(){this.$router.push({path:"/setInformation",query:{user_id:this.user_id}})},manageUsers(){this.$router.push({path:"/manageUsers",query:{user_id:this.user_id}})},seeInfo(){this.$router.push({path:"/seeInformation",query:{user_id:this.user_id}})},feedback(){this.$router.push({path:"/seeFeedBack",query:{user_id:this.user_id}})},async exit(){const t=await _.Z.post("http://8.134.178.190:5000/login_system/log_out",{user_id:this.user_id});"400"!==t.data.code?(this.cookie.clearCookie("remember_token"),this.cookie.clearCookie("session"),this.cookie.clearCookie("user_id"),this.$router.push("/login_system")):this.$message.error("退出登录失败")}}},Kt=Ht,Jt=(0,l.Z)(Kt,Lt,Xt,!1,null,"46711274",null),te=Jt.exports,ee=function(){var t=this,e=t._self._c;return e("div",{staticClass:"wrapped"},[e("div",{staticClass:"left"},[e("ul",{staticClass:"leftText"},[e("li",{staticClass:"one",on:{click:function(e){return t.toChat()}}},[t._v("聊天框")]),e("li",{staticClass:"two",on:{click:function(e){return t.manageRoles()}}},[t._v("角色管理")]),e("li",{staticClass:"three",on:{click:function(e){return t.createRoles()}}},[t._v("新建角色")]),e("li",{staticClass:"four",on:{click:function(e){return t.setting()}}},[t._v("设置")]),e("li",{staticClass:"five",on:{click:function(e){return t.exit()}}},[t._v("退出登录")])])]),e("div",{staticClass:"middle"},[e("div",{staticClass:"middleSetting"},[t._v("设置")]),e("div",{staticClass:"settingTop active",on:{click:function(e){return t.setting()}}},[t._v("个人信息")]),e("div",{staticClass:"settingTop",on:{click:function(e){return t.changePsd()}}},[t._v("修改密码")]),e("div",{staticClass:"settingTop",on:{click:function(e){return t.toFeedback()}}},[t._v("提交反馈")])]),e("div",{staticClass:"right"},[e("div",{staticClass:"iconfont icon-chexiao",on:{click:function(e){return t.setting()}}}),e("div",{staticClass:"out"},[e("div",{staticClass:"iconfont icon-huangguan"},[t._v("    升级会员            30次/小时")]),e("div",{staticClass:"month",on:{click:function(e){return t.month()}}},[e("div",{staticClass:"time"},[t._v("包月")]),e("div",{staticClass:"price"},[t._v("30元/月")]),e("div",{staticClass:"iconfont icon-huiyuanhuangguanguanjun-xianxing"})]),e("div",{staticClass:"quarter",on:{click:function(e){return t.quarter()}}},[e("div",{staticClass:"time"},[t._v("包季")]),e("div",{staticClass:"price"},[t._v("80元/季")]),e("div",{staticClass:"iconfont icon-huiyuanhuangguanguanjun-xianxing"})]),e("div",{staticClass:"year",on:{click:function(e){return t.year()}}},[e("div",{staticClass:"time"},[t._v("包年")]),e("div",{staticClass:"price"},[t._v("300元/年")]),e("div",{staticClass:"iconfont icon-huiyuanhuangguanguanjun-xianxing"})])])])])},se=[],ie={name:"RechargeVip",data(){return{user_id:this.$route.query.user_id,is_limit:!1,isVip:!1}},async created(){document.title="充值VIP-chataaa";const t=await _.Z.get("http://8.134.178.190:5000/user/get_vip_state",{params:{user_id:this.user_id}});if("400"===t.data.code)return void alert("获取vip身份失败");this.isVip=t.data.state;const e=await _.Z.get("http://8.134.178.190:5000/user/is_limit_login",{params:{user_id:this.user_id}});"400"!==e.data.code?(this.is_limit=e.data.is_limit,!0===this.is_limit&&(alert("您已被限制登录"),this.exit())):alert("信息获取失败")},methods:{async month(){const t=window.confirm("确定要支付吗？");if(t){const t=await _.Z.post("http://8.134.178.190:5000/user/top_up",{user_id:this.user_id,type:"1"});"200"===t.data.code?alert("支付成功！"):alert("充值失败！")}else alert("支付被取消！")},async quarter(){const t=window.confirm("确定要支付吗？");if(t){const t=await _.Z.post("http://8.134.178.190:5000/user/top_up",{user_id:this.user_id,type:"2"});"200"===t.data.code?alert("支付成功！"):alert("充值失败！")}else alert("支付被取消！")},async year(){const t=window.confirm("确定要支付吗？");if(t){const t=await _.Z.post("http://8.134.178.190:5000/user/top_up",{user_id:this.user_id,type:"3"});"200"===t.data.code?alert("支付成功！"):alert("充值失败！")}else alert("支付被取消！")},cancel(){this.isShowCode=!1},changePsd(){this.$router.push({path:"/changePassword",query:{user_id:this.user_id}})},setting(){this.$router.push({path:"/setting",query:{user_id:this.user_id}})},toChat(){this.$router.push({path:"/chatInterface",query:{user_id:this.user_id}})},async manageRoles(){const t=await _.Z.get("http://8.134.178.190:5000/user/get_vip_state",{params:{user_id:this.user_id}});"400"!==t.data.code?(this.isVip=t.data.state,this.isVip?this.$router.push({path:"/ManageRoles",query:{user_id:this.user_id}}):alert("该功能为VIP用户专享，快去升级会员吧！")):alert("获取vip身份失败")},async createRoles(){const t=await _.Z.get("http://8.134.178.190:5000/user/get_vip_state",{params:{user_id:this.user_id}});"400"!==t.data.code?(this.isVip=t.data.state,this.isVip?this.$router.push({path:"/createRoles",query:{user_id:this.user_id}}):alert("该功能为VIP用户专享，快去升级会员吧！")):alert("获取vip身份失败")},toFeedback(){this.$router.push({path:"/feedback",query:{user_id:this.user_id}})},async exit(){const t=await _.Z.post("http://8.134.178.190:5000/login_system/log_out",{user_id:this.user_id});"400"!==t.data.code?(this.cookie.clearCookie("remember_token"),this.cookie.clearCookie("session"),this.cookie.clearCookie("user_id"),this.$router.push("/login_system")):this.$message.error("退出登录失败")}}},ae=ie,re=(0,l.Z)(ae,ee,se,!1,null,"c1d91440",null),oe=re.exports,ne=function(){var t=this,e=t._self._c;return e("div",{staticClass:"wrapped"},[e("div",{staticClass:"left"},[e("ul",{staticClass:"leftText"},[e("li",{staticClass:"one",on:{click:function(e){return t.setInfo()}}},[t._v("信息设置")]),e("li",{staticClass:"two",on:{click:function(e){return t.manageUsers()}}},[t._v("用户管理")]),e("li",{staticClass:"three",on:{click:function(e){return t.seeInfo()}}},[t._v("查看信息")]),e("li",{staticClass:"four active"},[t._v("用户反馈")]),e("li",{staticClass:"five",on:{click:function(e){return t.exit()}}},[t._v("退出登录")])])]),e("div",{staticClass:"middle"},[e("div",{staticClass:"middleSetting"},[t._v("用户反馈")]),e("div",{staticClass:"settingTop",class:{active:0===t.is_checked},on:{click:function(e){return t.see_no()}}},[t._v("未查看")]),e("div",{staticClass:"settingTop",class:{active:1===t.is_checked},on:{click:function(e){return t.see_yes()}}},[t._v("已查看")])]),e("div",{staticClass:"right"},[e("div",{staticClass:"rightTop"},[t._v("查看反馈")]),e("form",{directives:[{name:"show",rawName:"v-show",value:!t.details,expression:"!details"}]},[e("div",{staticClass:"dateBegin"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedYear1,expression:"selectedYear1"}],attrs:{id:"year"},on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedYear1=e.target.multiple?s:s[0]},t.updateMonths1]}},t._l(t.availableYears1,(function(s){return e("option",{key:s,domProps:{value:s}},[t._v(t._s(s))])})),0),e("label",{attrs:{for:"year"}},[t._v(" 年 ")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedMonth1,expression:"selectedMonth1"}],attrs:{id:"month"},on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedMonth1=e.target.multiple?s:s[0]},t.updateDays1]}},t._l(t.availableMonths1,(function(s){return e("option",{key:s,domProps:{value:s}},[t._v(t._s(s))])})),0),e("label",{attrs:{for:"month"}},[t._v(" 月 ")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedDay1,expression:"selectedDay1"}],attrs:{id:"day"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedDay1=e.target.multiple?s:s[0]}}},t._l(t.availableDays1,(function(s){return e("option",{key:s,domProps:{value:s}},[t._v(t._s(s))])})),0),e("label",{attrs:{for:"day"}},[t._v(" 日 ")])]),e("div",{staticClass:"transition"},[t._v("————")]),e("div",{staticClass:"dateEnd"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedYear2,expression:"selectedYear2"}],attrs:{id:"year"},on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedYear2=e.target.multiple?s:s[0]},t.updateMonths2]}},t._l(t.availableYears2,(function(s){return e("option",{key:s,domProps:{value:s}},[t._v(t._s(s))])})),0),e("label",{attrs:{for:"year"}},[t._v(" 年 ")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedMonth2,expression:"selectedMonth2"}],attrs:{id:"month"},on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedMonth2=e.target.multiple?s:s[0]},t.updateDays2]}},t._l(t.availableMonths2,(function(s){return e("option",{key:s,domProps:{value:s}},[t._v(t._s(s))])})),0),e("label",{attrs:{for:"month"}},[t._v(" 月 ")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedDay2,expression:"selectedDay2"}],attrs:{id:"day"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedDay2=e.target.multiple?s:s[0]}}},t._l(t.availableDays2,(function(s){return e("option",{key:s,domProps:{value:s}},[t._v(t._s(s))])})),0),e("label",{attrs:{for:"day"}},[t._v(" 日 ")])]),e("button",{staticClass:"query",on:{click:function(e){return t.query()}}},[t._v("查询")]),e("button",{staticClass:"showAll",on:{click:function(e){return t.showAll()}}},[t._v("显示全部")]),e("div",{staticClass:"Table"},[e("table",[t._m(0),e("tbody",t._l(t.feed_list,(function(s,i){return e("tr",{key:i},[e("td",[t._v(t._s(s.mail_account))]),e("td",[t._v(t._s(s.nickname))]),e("td",[t._v(t._s(s.date))]),e("td",[e("button",{on:{click:function(e){return t.seeDetails(i)}}},[t._v("查看详情")])])])})),0)])])]),e("form",{directives:[{name:"show",rawName:"v-show",value:t.details,expression:"details"}]},[e("div",{staticClass:"iconfont icon-chexiao",on:{click:function(e){return t.back()}}}),e("div",{staticClass:"source"},[e("span",[t._v("来自  "+t._s(t.mail_account)+"  的反馈")])]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.feedback,expression:"feedback"}],attrs:{cols:"30",rows:"10",disabled:""},domProps:{value:t.feedback},on:{input:function(e){e.target.composing||(t.feedback=e.target.value)}}}),e("button",{staticClass:"isChess",on:{click:function(e){return t.changeChess(t.index)}}},[t._v(t._s(t.showIsChess))]),e("button",{staticClass:"previous",on:{click:function(e){return t.previous()}}},[t._v("<")]),e("button",{staticClass:"next",on:{click:function(e){return t.next()}}},[t._v(">")])])])])},le=[function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",{staticStyle:{width:"260px"}},[t._v("邮箱")]),e("th",{staticStyle:{width:"310px"}},[t._v("用户名")]),e("th",{staticStyle:{width:"170px"}},[t._v("日期")]),e("th",{staticStyle:{width:"160px"}},[t._v("查看")])])])}],ce={name:"SeeFeedBack",data(){return{user_id:this.$route.query.user_id,selectedYear1:"",selectedMonth1:"",selectedDay1:"",availableYears1:[],availableMonths1:[],availableDays1:[],selectedYear2:"",selectedMonth2:"",selectedDay2:"",availableYears2:[],availableMonths2:[],availableDays2:[],feed_list:[],index:0,mail_account:"",feedback:"  反馈反馈反馈反馈反馈反馈反馈反馈反馈反馈反馈反馈反馈反馈",isChess:!1,details:!1,is_checked:0,showIsChess:"未查看"}},created(){document.title="查看反馈-chataaa",this.getInfo()},mounted(){this.updateYears1(),this.updateMonths1(),this.updateDays1(),this.updateYears2(),this.updateMonths2(),this.updateDays2()},methods:{async getInfo(){const t=await _.Z.get("http://8.134.178.190:5000/administrator/check_feedback",{params:{is_checked:this.is_checked}});"400"!==t.data.code?this.feed_list=t.data.data:alert("获取信息错误")},see_no(){this.is_checked=0,this.getInfo(),this.details=!1},see_yes(){this.is_checked=1,this.getInfo(),this.details=!1},updateYears1(){const t=(new Date).getFullYear();for(let e=2023;e<=t;e++)this.availableYears1.push(e)},updateMonths1(){const t=Array.from({length:12},((t,e)=>e+1));this.availableMonths1=t,this.selectedMonth1="",this.updateDays1()},updateDays1(){const t=parseInt(this.selectedYear1),e=parseInt(this.selectedMonth1),s=new Date(t,e,0).getDate(),i=Array.from({length:s},((t,e)=>e+1));this.availableDays1=i,parseInt(this.selectedDay1)>s&&(this.selectedDay1="")},updateYears2(){const t=(new Date).getFullYear();for(let e=2023;e<=t;e++)this.availableYears2.push(e)},updateMonths2(){const t=Array.from({length:12},((t,e)=>e+1));this.availableMonths2=t,this.selectedMonth2="",this.updateDays2()},updateDays2(){const t=parseInt(this.selectedYear2),e=parseInt(this.selectedMonth2),s=new Date(t,e,0).getDate(),i=Array.from({length:s},((t,e)=>e+1));this.availableDays2=i,parseInt(this.selectedDay2)>s&&(this.selectedDay2="")},formatDate(t,e,s){const i=String(e).padStart(2,"0"),a=String(s).padStart(2,"0");return`${t}-${i}-${a}`},async query(){if(this.selectedYear1>this.selectedYear2&&""!==this.selectedYear1&&""!==this.selectedYear2)alert("请输入正确的时间区间！");else if(this.selectedYear1===this.selectedYear2&&this.selectedMonth1>this.selectedMonth2)alert("请输入正确的时间区间！");else if(this.selectedYear1===this.selectedYear2&&this.selectedMonth1===this.selectedMonth2&&this.selectedDay1>this.selectedDay2)alert("请输入正确的时间区间！");else if(""!==this.selectedYear1&&""!==this.selectedMonth1&&""!==this.selectedDay1&&""!==this.selectedYear2&&""!==this.selectedMonth2&&""!==this.selectedDay2){const t=this.formatDate(this.selectedYear1,this.selectedMonth1,this.selectedDay1),e=this.formatDate(this.selectedYear2,this.selectedMonth2,this.selectedDay2),s=await _.Z.get("http://8.134.178.190:5000/administrator/check_feedback",{params:{is_checked:this.is_checked,start_date:t,end_date:e}});if("400"===s.data.code)return void alert("获取信息错误");this.feed_list=s.data.data}else if(""===this.selectedYear1&&""===this.selectedMonth1&&""===this.selectedDay1&&""!==this.selectedYear2&&""!==this.selectedMonth2&&""!==this.selectedDay2){const t=this.formatDate(this.selectedYear2,this.selectedMonth2,this.selectedDay2),e=await _.Z.get("http://8.134.178.190:5000/administrator/check_feedback",{params:{is_checked:this.is_checked,end_date:t}});if("400"===e.data.code)return void alert("获取信息错误");this.feed_list=e.data.data}else{if(""===this.selectedYear1||""===this.selectedMonth1||""===this.selectedDay1||""!==this.selectedYear2||""!==this.selectedMonth2||""!==this.selectedDay2)return void alert("请输入正确的时间区间！");{const t=this.formatDate(this.selectedYear1,this.selectedMonth1,this.selectedDay1),e=await _.Z.get("http://8.134.178.190:5000/administrator/check_feedback",{params:{is_checked:this.is_checked,start_date:t}});if("400"===e.data.code)return void alert("获取信息错误");this.feed_list=e.data.data}}},showAll(){this.getInfo(),this.selectedYear1="",this.selectedYear2="",this.selectedMonth1="",this.selectedMonth2="",this.selectedDay1="",this.selectedDay2=""},seeDetails(t){this.details=!0,this.index=t,this.feedback=this.feed_list[t].content,this.mail_account=this.feed_list[t].mail_account,!0===this.feed_list[t].is_checked?this.showIsChess="已查看":this.showIsChess="未查看"},back(){this.details=!1,this.getInfo()},async changeChess(t){if(!1===this.feed_list[t].is_checked){const e=await _.Z.post("http://8.134.178.190:5000/administrator/set_checked",{feedback_id:this.feed_list[t].feedback_id});if("400"===e.data.code)return void alert("操作失败");this.feed_list[t].is_checked=!0,this.showIsChess="已查看"}else{const e=await _.Z.post("http://8.134.178.190:5000/administrator/set_checked",{feedback_id:this.feed_list[t].feedback_id});if("400"===e.data.code)return void alert("操作失败");this.feed_list[t].is_checked=!1,this.showIsChess="未查看"}},previous(){0===this.index?alert("前面已经没有啦！"):(this.index=this.index-1,this.mail_account=this.feed_list[this.index].mail_account,this.feedback=this.feed_list[this.index].content,!1===this.feed_list[this.index].is_checked?this.showIsChess="未查看":this.showIsChess="已查看")},next(){this.index===this.feed_list.length-1?alert("已经是最后一个啦！"):(this.index=this.index+1,this.mail_account=this.feed_list[this.index].mail_account,this.feedback=this.feed_list[this.index].content,!1===this.feed_list[this.index].is_checked?this.showIsChess="未查看":this.showIsChess="已查看")},setInfo(){this.$router.push({path:"/setInformation",query:{user_id:this.user_id}})},manageUsers(){this.$router.push({path:"/manageUsers",query:{user_id:this.user_id}})},seeInfo(){this.$router.push({path:"/seeInformation",query:{user_id:this.user_id}})},async exit(){const t=await _.Z.post("http://8.134.178.190:5000/login_system/log_out",{user_id:this.user_id});"400"!==t.data.code?(this.cookie.clearCookie("remember_token"),this.cookie.clearCookie("session"),this.cookie.clearCookie("user_id"),this.$router.push("/login_system")):this.$message.error("退出登录失败")}}},de=ce,ue=(0,l.Z)(de,ne,le,!1,null,"3fe61d69",null),he=ue.exports,_e=function(){var t=this,e=t._self._c;return e("div",{staticClass:"wrapped-cr"},[e("div",{staticClass:"left"},[e("ul",{staticClass:"leftText"},[e("li",{staticClass:"one",on:{click:function(e){return t.toChangeRole()}}},[t._v("修改角色")]),e("li",{staticClass:"two"},[t._v("新增角色")]),e("li",{staticClass:"three",on:{click:function(e){return t.exit()}}},[t._v("退出登录")])])]),e("div",{staticClass:"right"},[e("div",{staticClass:"main"},[e("div",{staticClass:"title"},[t._v("创建角色")]),e("div",{staticClass:"prompt"},[t._v("提示词")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.prompt,expression:"prompt"}],attrs:{name:"",id:"",cols:"30",rows:"10",placeholder:"    我想要让你作为一位杰出的律师。您将在法律领域展现您的才能，为人们提供准确、明晰的法律建议。您可以选择专攻领域，如刑法、民法、商法等，但您的目标是成为一位擅长处理各类法律问题、具备卓越法律洞察力的律师。"},domProps:{value:t.prompt},on:{input:function(e){e.target.composing||(t.prompt=e.target.value)}}}),e("input",{ref:"pictureInput",staticStyle:{display:"none"},attrs:{type:"file"},on:{change:t.handlePictureChange}}),e("div",{staticClass:"head_text"},[t._v("角色头像：")]),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.isModify,expression:"!isModify"}],staticClass:"head_picture",on:{click:function(e){return t.triggerPictureInput()}}},[t._v("＋")]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isModify,expression:"isModify"}],staticClass:"show_picture",on:{click:function(e){return t.triggerPictureInput()}}},[e("img",{attrs:{src:t.picture_show,alt:""}})]),e("div",{staticClass:"name"},[t._v("角色名称：")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.role_name,expression:"role_name"}],staticClass:"nameInput",attrs:{type:"text",placeholder:"请输入角色名称"},domProps:{value:t.role_name},on:{input:[function(e){e.target.composing||(t.role_name=e.target.value)},t.name_input]}}),e("span",{staticClass:"name_length"},[t._v(t._s(t.name_length)+"/25")]),e("div",{staticClass:"describe"},[t._v("角色描述：")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],staticClass:"describeInput",attrs:{type:"text",placeholder:"请输入对创建角色的描述"},domProps:{value:t.description},on:{input:[function(e){e.target.composing||(t.description=e.target.value)},t.description_input]}}),e("span",{staticClass:"description_length"},[t._v(t._s(t.description_length)+"/25")]),e("div",{staticClass:"divergence"},[t._v("发散能力：")]),t._m(0),e("div",{staticClass:"model"},[t._v("使用模型：")]),t._m(1),e("div",{staticClass:"AI"},[t._v("AI资料库：")]),e("input",{ref:"fileInput",staticStyle:{display:"none"},attrs:{type:"file",accept:".txt"},on:{change:t.handleFileChange}}),e("button",{staticClass:"AIupload",on:{click:function(e){return t.triggerFileInput()}}},[t._v("上传资料")]),e("button",{staticClass:"create",class:{disable:!t.isClickable},on:{click:function(e){return t.create()}}},[t._v("创建角色")]),e("div",{staticClass:"show_file"},[t._v(t._s(t.file_show))])])])])},pe=[function(){var t=this,e=t._self._c;return e("select",{staticClass:"divergenceSelect",attrs:{name:"",id:""}},[e("option",{attrs:{selected:"",disabled:""}},[t._v("1.0")])])},function(){var t=this,e=t._self._c;return e("select",{staticClass:"modelSelect",attrs:{name:"",id:""}},[e("option",{attrs:{selected:"",disabled:""}},[t._v("ChatGpt3.5")])])}],me={name:"CreateInnerRoles",data(){return{user_id_ad:this.$route.query.user_id,user_id:"000000",isModify:!1,prompt:"",role_name:"",description:"",picture_get:"",picture_show:"",file_get:"",file_show:"",name_length:0,description_length:0,isClickable:!0}},created(){document.title="创建内置角色-chataaa"},methods:{triggerPictureInput(){this.$refs.pictureInput.click()},handlePictureChange(t){const e=t.target.files[0];e&&e.type.startsWith("image/")?(this.picture_get=e,this.picture_show=URL.createObjectURL(this.picture_get),this.isModify=!0):(alert("请选择图片文件"),t.target.value=null)},triggerFileInput(){this.$refs.fileInput.click()},handleFileChange(t){const e=t.target.files[0];e&&this.isTxtFile(e)?(this.file_get=t.target.files[0],this.file_show=this.file_get?this.file_get.name:null):alert("请上传txt文件")},isTxtFile(t){return"text/plain"===t.type},name_input(){this.name_length=this.role_name.length,this.name_length>25&&(this.role_name=this.role_name.slice(0,25),this.name_length=25)},description_input(){this.description_length=this.description.length,this.description_length>25&&(this.description=this.description.slice(0,25),this.description_length=25)},async create(){if(""===this.prompt.trim())return void alert("请输入提示词！");if(""===this.picture_show)return void alert("请上传角色头像！");if(""===this.role_name.trim())return void alert("请输入角色名称！");if(""===this.description.trim())return void alert("请输入角色描述！");if(""===this.file_show)return void alert("请上传资料！");this.isClickable=!1;let t=new FormData;t.append("user_id",this.user_id),t.append("role_name",this.role_name),t.append("description",this.description),t.append("prompt",this.prompt),t.append("head_portrait",this.picture_get),t.append("files",this.file_get);const e=await _.Z.post("http://8.134.178.190:5000//builtin_role_administrator/create_builtin_role",t);"200"===e.data.code?alert("创建成功！"):alert("创建失败！"),this.isClickable=!0,this.role_name="",this.description="",this.prompt="",this.picture_get=null,this.picture_show=null,this.file_get=null,this.file_show=null,this.isModify=!1},toChat(){this.$router.push({path:"/chatInterface",query:{user_id:this.user_id}})},toChangeRole(){this.$router.push({path:"/ChangeRole",query:{user_id:this.user_id_ad}})},async exit(){const t=await _.Z.post("http://8.134.178.190:5000/login_system/log_out",{user_id:this.user_id_ad});"400"!==t.data.code?(this.cookie.clearCookie("remember_token"),this.cookie.clearCookie("session"),this.cookie.clearCookie("user_id"),this.$router.push("/login_system")):this.$message.error("退出登录失败")}}},ve=me,ge=(0,l.Z)(ve,_e,pe,!1,null,"22cc05e8",null),fe=ge.exports;function we(t,e){let s=new Date((new Date).getTime()+24*e*60*60*1e3).toUTCString();for(var i in t)document.cookie=i+"="+t[i]+"; expires="+s}function Ce(t){var e=document.cookie.match(new RegExp("(^| )"+t+"=([^;]*)(;|$)"));return null!=e?unescape(e[2]):null}function ye(t){let e={};e[t]="",we(e,-1)}var ke={setCookie:we,getCookie:Ce,clearCookie:ye},Ae=s(2631);i["default"].use(Ae.ZP);const xe=new Ae.ZP({routes:[{path:"/",redirect:"/login_system"},{path:"/login_system",component:g},{path:"/login_system/register",component:A},{path:"/login_system/retrieve_password",component:P},{path:"/setting",component:T},{path:"/changePassword",component:$},{path:"/feedback",component:Q},{path:"/setInformation",component:J},{path:"/seeInformation",component:ot},{path:"/manageUsers",component:ht},{path:"/chatInterface",component:ft},{path:"/ManageRoles",component:xt},{path:"/RoleInformation",component:Vt},{path:"/ChangeRole",component:Ut},{path:"/ModifyRole",component:jt},{path:"/createRoles",component:Et},{path:"/ordersInformation",component:te},{path:"/recharge",component:oe},{path:"/seeFeedBack",component:he},{path:"/CreateInnerRoles",component:fe}]});xe.beforeEach(((t,e,s)=>{const i=t.fullPath,a=ke.getCookie("user_id"),r=i.match(/\?user_id=(\d+)/);if(0===t.matched.length&&s("/404"),"/login_system"===i)s();else if(a)if(r&&r[1]){const t=r[1];t===a?s():s("/login_system")}else console.log("666");else"/login_system"===i||"/login_system/register"===i||"/login_system/retrieve_password"===i?s():s("/login_system")}));var be=xe,Ie=s(8499),De=s.n(Ie);i["default"].use(De()),i["default"].config.productionTip=!1,_.Z.defaults.withCredentials=!0,i["default"].prototype.cookie=ke,_.Z.defaults.baseURL="http://8.134.178.190:5000",new i["default"]({render:t=>t(d),router:be}).$mount("#app")},5665:function(t,e,s){t.exports=s.p+"img/background.2de9e5a9.png"},7525:function(t){t.exports="data:image/png;base64,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"}},e={};function s(i){var a=e[i];if(void 0!==a)return a.exports;var r=e[i]={exports:{}};return t[i].call(r.exports,r,r.exports,s),r.exports}s.m=t,function(){var t=[];s.O=function(e,i,a,r){if(!i){var o=1/0;for(d=0;d<t.length;d++){i=t[d][0],a=t[d][1],r=t[d][2];for(var n=!0,l=0;l<i.length;l++)(!1&r||o>=r)&&Object.keys(s.O).every((function(t){return s.O[t](i[l])}))?i.splice(l--,1):(n=!1,r<o&&(o=r));if(n){t.splice(d--,1);var c=a();void 0!==c&&(e=c)}}return e}r=r||0;for(var d=t.length;d>0&&t[d-1][2]>r;d--)t[d]=t[d-1];t[d]=[i,a,r]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var i in e)s.o(e,i)&&!s.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){s.p="/"}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,i){var a,r,o=i[0],n=i[1],l=i[2],c=0;if(o.some((function(e){return 0!==t[e]}))){for(a in n)s.o(n,a)&&(s.m[a]=n[a]);if(l)var d=l(s)}for(e&&e(i);c<o.length;c++)r=o[c],s.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return s.O(d)},i=self["webpackChunkchataaa"]=self["webpackChunkchataaa"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=s.O(void 0,[998],(function(){return s(7299)}));i=s.O(i)})();
//# sourceMappingURL=app.4e3487e9.js.map