{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { saveAs } from 'file-saver';\nimport axios from 'axios';\nexport default {\n  name: 'OrdersInformation',\n  data() {\n    return {\n      orders_log: []\n    };\n  },\n  async created() {\n    const res1 = await axios.get('http://119.39.26.68:5000/administrator/log/get_all_log');\n    this.login_log = res1.data.data;\n    const res2 = await axios.get('http://119.39.26.68:5000/administrator/log/get_error_log');\n    this.error_log = res2.data.data;\n    console.log(res1);\n    console.log(res2);\n  },\n  methods: {\n    setInfo() {\n      this.$router.push('/setInformation');\n    },\n    manageUsers() {\n      this.$router.push('/manageUsers');\n    },\n    downloadCSV1() {\n      // 导出登入/登出信息\n      const csv = this.convertToCSV(this.orders_log); // 将login_log数组转换为CSV字符串\n      const blob = new Blob([csv], {\n        type: \"text/csv;charset=utf-8\"\n      }); // 创建一个Blob对象\n      saveAs(blob, \"login_information.csv\"); // 使用FileSaver.js库将Blob对象保存为文件\n    },\n\n    convertToCSV(arr) {\n      const header = Object.keys(arr[0]).join(\",\"); // 获取CSV文件的header\n      const rows = arr.map(obj => Object.values(obj).join(\",\")); // 将数组中的每个对象转换为一个CSV行\n      return `${header}\\n${rows.join(\"\\n\")}`; // 将header和所有行拼接成一个CSV字符串\n    },\n\n    exit() {\n      this.$router.push('/login_system');\n    }\n  }\n};","map":{"version":3,"names":["saveAs","axios","name","data","orders_log","created","res1","get","login_log","res2","error_log","console","log","methods","setInfo","$router","push","manageUsers","downloadCSV1","csv","convertToCSV","blob","Blob","type","arr","header","Object","keys","join","rows","map","obj","values","exit"],"sources":["src/views/OrdersInformation.vue"],"sourcesContent":["<template>\r\n  <div class=\"wrapped\">\r\n    <div class=\"left\">\r\n      <ul class=\"leftText\">\r\n        <li @click=\"setInfo()\" class=\"one\">信息设置</li>\r\n        <li @click=\"manageUsers()\" class=\"two\">用户管理</li>\r\n        <li class=\"three\">查看信息</li>\r\n        <li class=\"four\">用户反馈</li>\r\n        <li class=\"five\" @click=\"exit()\">退出登录</li>\r\n      </ul>\r\n    </div>\r\n    <div class=\"middle\">\r\n      <div class=\"middleSeeing\">查看信息</div>\r\n      <div class=\"seeingTop\">日志信息</div>\r\n      <div class=\"seeingTop active\">会员充值信息</div>\r\n    </div>\r\n    <div class=\"right\">\r\n      <div class=\"rightTop\">会员充值订单</div>\r\n      <div class=\"rightMain\">\r\n        <table>\r\n          <tr>\r\n            <th>邮箱</th>\r\n            <th>日期时间</th>\r\n            <th>充值类型</th>\r\n          </tr>\r\n          <tr>\r\n            <td>1234567890@qq.com</td>\r\n            <td>2023/10/25 8:37:20</td>\r\n            <td>包年</td>\r\n          </tr>\r\n          <!-- <tr v-for=\"(item, index) in login_log\" :key=\"index\">\r\n            <td>{{ item.mail_account }}</td>\r\n            <td>{{ item.timing }}</td>\r\n            <td>{{ item.type }}</td>\r\n          </tr> -->\r\n        </table>\r\n      </div>\r\n      <button @click=\"downloadCSV1()\" class=\"export\">导出数据</button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { saveAs } from 'file-saver'\r\nimport axios from 'axios' \r\nexport default {\r\n  name: 'OrdersInformation',\r\n  data () {\r\n    return { \r\n      orders_log: [],\r\n    }\r\n  },\r\n\r\n  async created () {\r\n    const res1 = await axios.get('http://119.39.26.68:5000/administrator/log/get_all_log')\r\n    this.login_log = res1.data.data\r\n    const res2 = await axios.get('http://119.39.26.68:5000/administrator/log/get_error_log')\r\n    this.error_log = res2.data.data\r\n    console.log(res1)\r\n    console.log(res2)\r\n  },\r\n\r\n  methods: {\r\n    setInfo () {\r\n      this.$router.push('/setInformation')\r\n    },\r\n    manageUsers () {\r\n      this.$router.push('/manageUsers')\r\n    },\r\n    downloadCSV1 () { // 导出登入/登出信息\r\n      const csv = this.convertToCSV(this.orders_log); // 将login_log数组转换为CSV字符串\r\n      const blob = new Blob([csv], { type: \"text/csv;charset=utf-8\" }); // 创建一个Blob对象\r\n      saveAs(blob, \"login_information.csv\"); // 使用FileSaver.js库将Blob对象保存为文件\r\n    },\r\n    convertToCSV(arr) {\r\n      const header = Object.keys(arr[0]).join(\",\"); // 获取CSV文件的header\r\n      const rows = arr.map(obj => Object.values(obj).join(\",\")); // 将数组中的每个对象转换为一个CSV行\r\n      return `${header}\\n${rows.join(\"\\n\")}`; // 将header和所有行拼接成一个CSV字符串\r\n    },\r\n    exit () {\r\n      this.$router.push('/login_system')\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n  .wrapped {\r\n    display: flex;\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    background-color: #465069;\r\n    opacity: 0.9;\r\n  }\r\n\r\n  .left {\r\n    width: 90px;\r\n    height: 100%;\r\n    background-color: #D6ECFF;\r\n    border-radius: 10px 0 0 10px;\r\n  }\r\n\r\n  .leftText {\r\n    position: relative;\r\n    color: #9CBFFB;\r\n    font-weight: 700;\r\n    font-size: 18px;\r\n    text-align: center;\r\n  }\r\n\r\n  .leftText li {\r\n    width: 90px;\r\n    height: 50px;\r\n    line-height: 50px;\r\n    border: 2px solid #9CBFFB;\r\n    border-radius: 10px;\r\n  }\r\n\r\n  .leftText li:hover {\r\n    background-color: #a0bff5;\r\n    color: #1990FF;\r\n    cursor: pointer;\r\n  }\r\n\r\n  .leftText .one {\r\n    position: absolute;\r\n    top: 90px;\r\n  }\r\n\r\n  .leftText .two {\r\n    position: absolute;\r\n    top: 210px;\r\n  }\r\n\r\n  .leftText .three {\r\n    position: absolute;\r\n    top: 330px;\r\n    color: #1990FF;\r\n  }\r\n\r\n  .leftText .four {\r\n    position: absolute;\r\n    top: 450px;\r\n  }\r\n\r\n  .leftText .five {\r\n    position: absolute;\r\n    top: 570px;\r\n  }\r\n\r\n  .middle {\r\n    position: relative;\r\n    width: 200px;\r\n    background-color: #F6FBFF;\r\n    border: 1px solid #BBBBBB;\r\n    font-size: 17px;\r\n  }\r\n\r\n  .middleSeeing {\r\n    padding: 5px 0 10px 20px;\r\n    font-size: 20px;\r\n  }\r\n\r\n  .seeingTop {\r\n    text-align: center;\r\n    padding-bottom: 12px;\r\n  }\r\n\r\n  .seeingTop:hover {\r\n    color: #1990FF;\r\n    font-weight: 700;\r\n    cursor: pointer;\r\n  }\r\n\r\n  .active {\r\n    color: #1990FF;\r\n    font-weight: 700;\r\n  }\r\n\r\n  .right {\r\n    position: relative;\r\n    width: 1250px;\r\n    background-color: #F2F5F8;\r\n  }\r\n\r\n  .right .rightTop {\r\n    border-bottom: 1px solid #BBB;\r\n    text-align: center;\r\n    font-size: 20px;\r\n    font-weight: 700;\r\n    padding: 15px;\r\n  }\r\n\r\n  .right .rightMain {\r\n    position: absolute;\r\n    left: 120px;\r\n    top: 100px;\r\n    width: 900px;\r\n    height: 600px;\r\n    font-size: 17px;\r\n    background-color: #fff;\r\n    overflow: auto;\r\n    border: 2px solid #BBBBBB;\r\n  }\r\n\r\n  .rightMain table {\r\n    border-collapse: collapse;\r\n  }\r\n\r\n  .rightMain th, td {\r\n    text-align: center;\r\n    width: 300px;\r\n    height: 40px;\r\n    border: 1px solid #BBBBBB;\r\n  }\r\n\r\n\r\n  .right .export {\r\n    position: absolute;\r\n    bottom: 20px;\r\n    left: 1060px;\r\n    width: 100px;\r\n    height: 40px;\r\n    border-radius: 6px;\r\n    border: 4px solid #D6ECFF;\r\n    line-height: 30px;\r\n    color: #1990FF;\r\n    font-weight: 700;\r\n  }\r\n\r\n  .right .export:hover {\r\n    background-color: #D6ECFF;\r\n    cursor: pointer;\r\n  }\r\n</style>"],"mappings":";AA2CA,SAAAA,MAAA;AACA,OAAAC,KAAA;AACA;EACAC,IAAA;EACAC,KAAA;IACA;MACAC,UAAA;IACA;EACA;EAEA,MAAAC,QAAA;IACA,MAAAC,IAAA,SAAAL,KAAA,CAAAM,GAAA;IACA,KAAAC,SAAA,GAAAF,IAAA,CAAAH,IAAA,CAAAA,IAAA;IACA,MAAAM,IAAA,SAAAR,KAAA,CAAAM,GAAA;IACA,KAAAG,SAAA,GAAAD,IAAA,CAAAN,IAAA,CAAAA,IAAA;IACAQ,OAAA,CAAAC,GAAA,CAAAN,IAAA;IACAK,OAAA,CAAAC,GAAA,CAAAH,IAAA;EACA;EAEAI,OAAA;IACAC,QAAA;MACA,KAAAC,OAAA,CAAAC,IAAA;IACA;IACAC,YAAA;MACA,KAAAF,OAAA,CAAAC,IAAA;IACA;IACAE,aAAA;MAAA;MACA,MAAAC,GAAA,QAAAC,YAAA,MAAAhB,UAAA;MACA,MAAAiB,IAAA,OAAAC,IAAA,EAAAH,GAAA;QAAAI,IAAA;MAAA;MACAvB,MAAA,CAAAqB,IAAA;IACA;;IACAD,aAAAI,GAAA;MACA,MAAAC,MAAA,GAAAC,MAAA,CAAAC,IAAA,CAAAH,GAAA,KAAAI,IAAA;MACA,MAAAC,IAAA,GAAAL,GAAA,CAAAM,GAAA,CAAAC,GAAA,IAAAL,MAAA,CAAAM,MAAA,CAAAD,GAAA,EAAAH,IAAA;MACA,UAAAH,MAAA,KAAAI,IAAA,CAAAD,IAAA;IACA;;IACAK,KAAA;MACA,KAAAlB,OAAA,CAAAC,IAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}