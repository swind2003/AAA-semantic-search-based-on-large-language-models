{"ast":null,"code":"import \"core-js/modules/web.url-search-params.delete.js\";\nimport \"core-js/modules/web.url-search-params.has.js\";\nimport \"core-js/modules/web.url-search-params.size.js\";\nimport axios from 'axios';\nexport default {\n  name: 'ModifyRoles',\n  data() {\n    return {\n      user_id: this.$route.query.user_id,\n      role_id: this.$route.query.role_id,\n      role_info: '',\n      isModifying: false,\n      isModify: false,\n      picture_get: null,\n      // 获取上传的头像图片\n      picture_show: null,\n      // 展示上传的头像图片\n      file: null,\n      // 上传的AI资料\n      file_show: null\n    };\n  },\n  created() {\n    this.getInfo();\n  },\n  methods: {\n    async getInfo() {\n      const res = await axios.get('http://119.39.26.201:5000///builtin_role_administrator/information/get_role_information_detail', {\n        params: {\n          user_id: this.user_id,\n          role_id: this.role_id\n        }\n      });\n      this.role_info = res.data;\n      console.log(this.role_info);\n    },\n    triggerPictureInput() {\n      this.$refs.pictureInput.click();\n    },\n    handlePictureChange(event) {\n      const picture_temp = event.target.files[0];\n      if (picture_temp && picture_temp.type.startsWith('image/')) {\n        this.picture_get = picture_temp;\n        this.picture_show = URL.createObjectURL(this.picture_get);\n        this.isModify = true;\n      } else {\n        alert('请选择图片文件');\n        event.target.value = null;\n      }\n    },\n    triggerFileInput() {\n      this.$refs.fileInput.click();\n    },\n    handleFileChange(event) {\n      this.file = event.target.files[0];\n      this.file_show = this.file ? this.file.name : null;\n    },\n    change() {\n      this.isModifying = true;\n    },\n    saveChange() {\n      this.isModifying = false;\n    }\n  }\n};","map":{"version":3,"names":["axios","name","data","user_id","$route","query","role_id","role_info","isModifying","isModify","picture_get","picture_show","file","file_show","created","getInfo","methods","res","get","params","console","log","triggerPictureInput","$refs","pictureInput","click","handlePictureChange","event","picture_temp","target","files","type","startsWith","URL","createObjectURL","alert","value","triggerFileInput","fileInput","handleFileChange","change","saveChange"],"sources":["src/views/ModifyRole.vue"],"sourcesContent":["<template>\r\n  <div class=\"wrapped\">\r\n    <div class=\"left\">\r\n      <ul class=\"leftText\">\r\n        <li class=\"one\">修改角色</li>\r\n        <li class=\"two\">新增角色</li>\r\n        <li class=\"three\" @click=\"exit()\">退出登录</li>\r\n      </ul>\r\n    </div>\r\n    <div class=\"right\">\r\n      <div v-if=\"isModifying\" class=\"modifying\">\r\n        <div class=\"title\">修改角色</div>\r\n        <div class=\"prompt\">提示词</div>\r\n        <textarea name=\"\" id=\"\" cols=\"30\" rows=\"10\" placeholder=\"    我想要让你作为一位杰出的律师。您将在法律领域展现您的才能，为人们提供准确、明晰的法律建议。您可以选择专攻领域，如刑法、民法、商法等，但您的目标是成为一位擅长处理各类法律问题、具备卓越法律洞察力的律师。\"></textarea>\r\n\r\n        <input ref=\"pictureInput\" type=\"file\" style=\"display: none;\" @change=\"handlePictureChange\">\r\n        <div class=\"head_text\">角色头像：</div>\r\n        <div v-show=\"!isModify\" @click=\"triggerPictureInput()\" class=\"head_picture\">＋</div>\r\n        <div v-show=\"isModify\" @click=\"triggerPictureInput()\" class=\"show_picture\">\r\n          <img :src=\"picture_show\" alt=\"\">\r\n        </div>\r\n        <div class=\"name\">角色名称：</div>\r\n        <input type=\"text\" placeholder=\"请输入角色名称\" class=\"nameInput\">\r\n        <div class=\"describe\">角色描述：</div>\r\n        <input type=\"text\" placeholder=\"请输入对创建角色的描述\" class=\"describeInput\">\r\n        <div class=\"divergence\">发散能力：</div>\r\n        <select name=\"\" id=\"\" class=\"divergenceSelect\">\r\n          <option selected disabled>1.0</option>\r\n        </select>\r\n        <div class=\"model\">使用模型：</div>\r\n        <select name=\"\" id=\"\" class=\"modelSelect\">\r\n          <option selected disabled>ChatGpt3.5</option>\r\n        </select>\r\n        <div class=\"AI\">AI资料库：</div>\r\n        <input ref=\"fileInput\" type=\"file\" style=\"display: none;\" @change=\"handleFileChange\">\r\n        <button @click=\"triggerFileInput()\" class=\"AIupload\">上传资料</button>\r\n        <button class=\"modify\" @click=\"saveChange()\">保存</button>\r\n\r\n        <div class=\"show_file\">{{ file_show }}</div>\r\n      </div>\r\n      <div v-else class=\"display\">\r\n        <div class=\"title\">修改角色</div>\r\n        <div class=\"prompt\">提示词</div>\r\n        <!-- <textarea name=\"\" id=\"\" cols=\"30\" rows=\"10\" placeholder=\"    我想要让你作为一位杰出的律师。您将在法律领域展现您的才能，为人们提供准确、明晰的法律建议。您可以选择专攻领域，如刑法、民法、商法等，但您的目标是成为一位擅长处理各类法律问题、具备卓越法律洞察力的律师。\"></textarea> -->\r\n        <div class=\"tarea\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{role_info.prompt}}</span></div>\r\n        <input ref=\"pictureInput\" type=\"file\" style=\"display: none;\" @change=\"handlePictureChange\">\r\n        <div class=\"head_text\">角色头像：</div>\r\n        <div v-show=\"!isModify\" @click=\"triggerPictureInput()\" class=\"head_picture\">＋</div>\r\n        <div v-show=\"isModify\" @click=\"triggerPictureInput()\" class=\"show_picture\">\r\n          <img :src=\"picture_show\" alt=\"\">\r\n        </div>\r\n        <div class=\"name\">角色名称：<span>{{role_info.role_name}}</span></div>\r\n        <div class=\"describe\">角色描述：<span>{{role_info.description}}</span></div>\r\n\r\n        <div class=\"divergence\">发散能力：<span>1.0</span></div>\r\n        <div class=\"model\">使用模型：<span>ChatGpt3.5</span></div>\r\n        <button class=\"save\" @click=\"change()\">修改</button>\r\n\r\n        <div class=\"show_file\">{{ file_show }}</div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nexport default {\r\n  name: 'ModifyRoles',\r\n  data () {\r\n    return {\r\n      user_id: this.$route.query.user_id,\r\n      role_id: this.$route.query.role_id,\r\n      role_info: '',\r\n      isModifying: false,\r\n      isModify: false,\r\n      picture_get: null, // 获取上传的头像图片\r\n      picture_show: null, // 展示上传的头像图片\r\n      file: null, // 上传的AI资料\r\n      file_show: null\r\n    }\r\n  },\r\n\r\n  created () {\r\n    this.getInfo()\r\n  },\r\n\r\n\r\n  methods: {\r\n\r\n    async getInfo() {\r\n      const res = await axios.get('http://119.39.26.201:5000///builtin_role_administrator/information/get_role_information_detail', {\r\n        params: {\r\n          user_id: this.user_id,\r\n          role_id: this.role_id,\r\n        }\r\n      })\r\n      this.role_info = res.data\r\n      console.log(this.role_info);\r\n    },\r\n\r\n\r\n    triggerPictureInput () {\r\n      this.$refs.pictureInput.click()\r\n    },\r\n    handlePictureChange (event) {\r\n      const picture_temp = event.target.files[0]\r\n      if (picture_temp && picture_temp.type.startsWith('image/')) {\r\n        this.picture_get = picture_temp\r\n        this.picture_show = URL.createObjectURL(this.picture_get)\r\n        this.isModify = true\r\n      } else {\r\n        alert('请选择图片文件')\r\n        event.target.value = null\r\n      }\r\n    },\r\n    triggerFileInput () {\r\n      this.$refs.fileInput.click()\r\n    },\r\n    handleFileChange (event) {\r\n      this.file = event.target.files[0]\r\n      this.file_show = this.file ? this.file.name : null\r\n    },\r\n    change () {\r\n      this.isModifying = true;\r\n    },\r\n    saveChange () {\r\n      this.isModifying = false;\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.wrapped {\r\n    display: flex;\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    background-color: #465069;\r\n    opacity: 0.9;\r\n  }\r\n\r\n  .left {\r\n    width: 90px;\r\n    /* height: 705px; */\r\n    height: 100%;\r\n    background-color: #D6ECFF;\r\n    border-radius: 10px 0 0 10px;\r\n  }\r\n\r\n  .leftText {\r\n    position: relative;\r\n    color: #9CBFFB;\r\n    font-weight: 700;\r\n    font-size: 18px;\r\n    text-align: center;\r\n  }\r\n\r\n  .leftText li {\r\n    width: 90px;\r\n    height: 50px;\r\n    line-height: 50px;\r\n    border: 2px solid #9CBFFB;\r\n    border-radius: 10px;\r\n  }\r\n\r\n  .leftText li:hover {\r\n    background-color: #a0bff5;\r\n    color: #1990FF;\r\n    cursor: pointer;\r\n  }\r\n\r\n  .leftText .one {\r\n    position: absolute;\r\n    top: 90px;\r\n    color: #1990FF;\r\n  }\r\n\r\n  .leftText .two {\r\n    position: absolute;\r\n    top: 250px;\r\n    color: #9CBFFB;\r\n  }\r\n\r\n  .leftText .three {\r\n    position: absolute;\r\n    top: 420px;\r\n  }\r\n\r\n   .right {\r\n    position: relative;\r\n    width: 1450px;\r\n    background-color: #F2F5F8;\r\n    /* background-image: url('../assets/createRoles.png'); */\r\n    /* background-repeat: no-repeat; */\r\n    background-size: 1450px 920px;\r\n  }\r\n\r\n  .right .modifying,.display {\r\n    position: relative;\r\n    width: 700px;\r\n    height: 100%;\r\n    background-color: #fff;\r\n    border: 1px solid #BBB;\r\n    margin: 0 auto;\r\n  }\r\n\r\n\r\n\r\n  .right .title {\r\n    width: 700px;\r\n    height: 40px;\r\n    border-bottom: 1px solid #BBB;\r\n    font-size: 17px;\r\n    line-height: 40px;\r\n    text-align: center;\r\n    font-weight: 700;\r\n  }\r\n\r\n  .right .prompt {\r\n    position: absolute;\r\n    left: 70px;\r\n    top: 70px;\r\n    font-size: 17px;\r\n    font-weight: 700;\r\n    z-index: 99;\r\n  }\r\n  \r\n  \r\n  .right textarea {\r\n    position: absolute;\r\n    left: 60px;\r\n    top: 65px;\r\n    width: 580px;\r\n    height: 200px;\r\n    background-color: #fff;\r\n    border: 1px solid #809CFF;\r\n    border-radius: 15px;\r\n    padding: 10px;\r\n    font-size: 18px;\r\n    resize: none;\r\n    padding-top: 35px;\r\n  }\r\n\r\n  .right .tarea {\r\n    position: absolute;\r\n    left: 60px;\r\n    top: 65px;\r\n    width: 580px;\r\n    height: 200px;\r\n    background-color: #fff;\r\n    border: 1px solid #809CFF;\r\n    border-radius: 15px;\r\n    padding: 10px;\r\n    font-size: 18px;\r\n    resize: none;\r\n    padding-top: 35px;\r\n  }\r\n\r\n  .right .head_text {\r\n    position: relative;\r\n    font-size: 17px;\r\n    font-weight: 700;\r\n    top: 280px;\r\n    left: 60px;\r\n  }\r\n\r\n  .right .head_picture {\r\n    position: absolute;\r\n    top: 290px;\r\n    left: 150px;\r\n    width: 90px;\r\n    height: 90px;\r\n    background-color: #fff;\r\n    border: 2px dashed #BBB;\r\n    border-radius: 10px;\r\n    color: #BBB;\r\n    font-size: 40px;\r\n    line-height: 75px;\r\n    text-align: center;\r\n  }\r\n\r\n  .right .head_picture:hover {\r\n    cursor: pointer;\r\n    opacity: 0.7;\r\n  }\r\n\r\n  .right .name {\r\n    position: absolute;\r\n    font-size: 17px;\r\n    font-weight: 700;\r\n    left: 60px;\r\n    top: 410px;\r\n  }\r\n  \r\n  .right .nameInput {\r\n    position: absolute;\r\n    font-size: 16px;\r\n    left: 150px;\r\n    top: 410px;\r\n    width: 400px;\r\n    height: 27px;\r\n    padding: 2px;\r\n  }\r\n\r\n  .right .describe {\r\n    position: absolute;\r\n    font-size: 17px;\r\n    font-weight: 700;\r\n    left: 60px;\r\n    top: 460px;\r\n  }\r\n\r\n  .right .describeInput {\r\n    position: absolute;\r\n    font-size: 16px;\r\n    left: 150px;\r\n    top: 460px;\r\n    width: 400px;\r\n    height: 27px;\r\n    padding: 2px;\r\n  }\r\n\r\n  .right .divergence {\r\n    position: absolute;\r\n    font-size: 17px;\r\n    font-weight: 700;\r\n    left: 60px;\r\n    top: 510px;\r\n  }\r\n\r\n  .right .divergenceSelect {\r\n    position: absolute;\r\n    font-size: 16px;\r\n    left: 150px;\r\n    top: 510px;\r\n    width: 120px;\r\n    height: 27px;\r\n    padding: 2px;\r\n  }\r\n\r\n  .right .model {\r\n    position: absolute;\r\n    font-size: 17px;\r\n    font-weight: 700;\r\n    left: 60px;\r\n    top: 560px;\r\n  }\r\n\r\n  .right .modelSelect {\r\n    position: absolute;\r\n    font-size: 16px;\r\n    left: 150px;\r\n    top: 560px;\r\n    width: 120px;\r\n    height: 27px;\r\n    padding: 2px;\r\n  }\r\n\r\n  .right .AI {\r\n    position: absolute;\r\n    font-size: 17px;\r\n    font-weight: 700;\r\n    left: 60px;\r\n    top: 620px;\r\n  }\r\n\r\n  .right .AIupload {\r\n    position: absolute;\r\n    font-size: 16px;\r\n    left: 150px;\r\n    top: 610px;\r\n    width: 100px;\r\n    height: 40px;\r\n    padding: 2px;\r\n    background-color: #3182ce;\r\n    color: #fff;\r\n    border: none;\r\n    border-radius: 10px;\r\n  }\r\n\r\n  .right .AIupload:hover {\r\n    cursor: pointer;\r\n    opacity: 0.7;\r\n  }\r\n\r\n  .right .modify {\r\n    position: absolute;\r\n    font-size: 17px;\r\n    left: 100px;\r\n    bottom: 20px;\r\n    width: 500px;\r\n    height: 40px;\r\n    background-color: #3182ce;\r\n    color: #fff;\r\n    border: none;\r\n    border-radius: 7px;\r\n  }\r\n\r\n  .right .modify:hover {\r\n    cursor: pointer;\r\n    opacity: 0.7;\r\n  }\r\n\r\n    .right .save {\r\n    position: absolute;\r\n    font-size: 17px;\r\n    left: 100px;\r\n    bottom: 20px;\r\n    width: 500px;\r\n    height: 40px;\r\n    background-color: #3182ce;\r\n    color: #fff;\r\n    border: none;\r\n    border-radius: 7px;\r\n  }\r\n\r\n  .right .save:hover {\r\n    cursor: pointer;\r\n    opacity: 0.7;\r\n  }\r\n\r\n  .right .show_picture img {\r\n    position: absolute;\r\n    top: 290px;\r\n    left: 150px;\r\n    width: 90px;\r\n    height: 90px;\r\n    border-radius: 50%;\r\n  }\r\n\r\n  .right .show_picture img:hover {\r\n    cursor: pointer;\r\n    opacity: 0.7;\r\n  }\r\n\r\n  .right .show_file {\r\n    position: absolute;\r\n    left: 260px;\r\n    top: 620px;\r\n  }\r\n</style>"],"mappings":";;;AAiEA,OAAAA,KAAA;AACA;EACAC,IAAA;EACAC,KAAA;IACA;MACAC,OAAA,OAAAC,MAAA,CAAAC,KAAA,CAAAF,OAAA;MACAG,OAAA,OAAAF,MAAA,CAAAC,KAAA,CAAAC,OAAA;MACAC,SAAA;MACAC,WAAA;MACAC,QAAA;MACAC,WAAA;MAAA;MACAC,YAAA;MAAA;MACAC,IAAA;MAAA;MACAC,SAAA;IACA;EACA;EAEAC,QAAA;IACA,KAAAC,OAAA;EACA;EAGAC,OAAA;IAEA,MAAAD,QAAA;MACA,MAAAE,GAAA,SAAAjB,KAAA,CAAAkB,GAAA;QACAC,MAAA;UACAhB,OAAA,OAAAA,OAAA;UACAG,OAAA,OAAAA;QACA;MACA;MACA,KAAAC,SAAA,GAAAU,GAAA,CAAAf,IAAA;MACAkB,OAAA,CAAAC,GAAA,MAAAd,SAAA;IACA;IAGAe,oBAAA;MACA,KAAAC,KAAA,CAAAC,YAAA,CAAAC,KAAA;IACA;IACAC,oBAAAC,KAAA;MACA,MAAAC,YAAA,GAAAD,KAAA,CAAAE,MAAA,CAAAC,KAAA;MACA,IAAAF,YAAA,IAAAA,YAAA,CAAAG,IAAA,CAAAC,UAAA;QACA,KAAAtB,WAAA,GAAAkB,YAAA;QACA,KAAAjB,YAAA,GAAAsB,GAAA,CAAAC,eAAA,MAAAxB,WAAA;QACA,KAAAD,QAAA;MACA;QACA0B,KAAA;QACAR,KAAA,CAAAE,MAAA,CAAAO,KAAA;MACA;IACA;IACAC,iBAAA;MACA,KAAAd,KAAA,CAAAe,SAAA,CAAAb,KAAA;IACA;IACAc,iBAAAZ,KAAA;MACA,KAAAf,IAAA,GAAAe,KAAA,CAAAE,MAAA,CAAAC,KAAA;MACA,KAAAjB,SAAA,QAAAD,IAAA,QAAAA,IAAA,CAAAX,IAAA;IACA;IACAuC,OAAA;MACA,KAAAhC,WAAA;IACA;IACAiC,WAAA;MACA,KAAAjC,WAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}